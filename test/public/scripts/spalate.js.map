{"version":3,"sources":["../../node_modules/underscore/modules/index.js","../../node_modules/underscore/modules/index-default.js","../../node_modules/underscore/modules/index-all.js","../node_modules/riot/riot.js","../../node_modules/node-fetch/browser.js","../../node_modules/firerest/firerest.js","../../node_modules/process/browser.js","index.js","tags/app.tag"],"names":["root","self","global","Function","ArrayProto","Array","prototype","ObjProto","Object","SymbolProto","Symbol","push","slice","toString","hasOwnProperty","nativeIsArray","isArray","nativeKeys","keys","nativeCreate","create","_isNaN","isNaN","_isFinite","isFinite","Ctor","_","obj","_wrapped","VERSION","optimizeCb","func","context","argCount","value","call","index","collection","accumulator","apply","arguments","baseIteratee","identity","isFunction","isObject","matcher","property","iteratee","Infinity","cb","restArguments","startIndex","length","Math","max","rest","args","baseCreate","result","shallowProperty","key","_has","path","deepGet","i","MAX_ARRAY_INDEX","pow","getLength","isArrayLike","each","_keys","map","results","currentKey","createReduce","dir","reducer","memo","initial","reduce","reduceRight","find","predicate","keyFinder","findIndex","findKey","filter","list","reject","negate","every","some","contains","item","fromIndex","guard","values","indexOf","invoke","contextPath","method","pluck","where","attrs","findWhere","lastComputed","computed","v","min","shuffle","sample","n","random","clone","last","rand","temp","sortBy","criteria","sort","left","right","a","b","group","behavior","partition","groupBy","indexBy","countBy","reStrSymbol","toArray","isString","match","size","pass","first","array","compact","Boolean","_flatten","input","shallow","strict","output","idx","isArguments","j","len","flatten","without","otherArrays","difference","uniq","isSorted","isBoolean","seen","union","arrays","intersection","argsLength","unzip","zip","object","createPredicateIndexFinder","findLastIndex","sortedIndex","low","high","mid","floor","createIndexFinder","predicateFind","lastIndexOf","range","start","stop","step","ceil","chunk","count","executeBound","sourceFunc","boundFunc","callingContext","bind","TypeError","bound","callArgs","concat","partial","boundArgs","placeholder","position","bindAll","Error","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","now","throttled","_now","remaining","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","wrap","wrapper","compose","after","times","before","once","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","constructor","proto","prop","allKeys","mapObject","pairs","invert","functions","names","createAssigner","keysFunc","defaults","source","l","extend","extendOwn","keyInObj","pick","omit","String","props","tap","interceptor","isMatch","eq","aStack","bStack","type","deepEq","className","valueOf","areArrays","aCtor","bCtor","pop","isEqual","isEmpty","isElement","nodeType","tagTester","name","isNumber","isDate","isRegExp","isError","isSymbol","isMap","isWeakMap","isSet","isWeakSet","nodelist","document","childNodes","Int8Array","parseFloat","isNull","isUndefined","has","constant","noop","propertyOf","accum","Date","getTime","escapeMap","unescapeMap","createEscaper","escaper","join","testRegexp","RegExp","replaceRegexp","string","test","replace","escape","unescape","fallback","idCounter","uniqueId","prefix","id","templateSettings","evaluate","interpolate","noMatch","escapes","escapeRegExp","escapeChar","template","text","settings","oldSettings","offset","variable","render","e","data","argument","chain","instance","_chain","chainResult","mixin","toJSON","allExports","factory","exports","module","define","amd","riot","$","selector","ctx","querySelector","__TAGS_CACHE","__TAG_IMPL","YIELD_TAG","GLOBAL_MIXIN","ATTRS_PREFIX","REF_DIRECTIVES","IS_DIRECTIVE","CONDITIONAL_DIRECTIVE","LOOP_DIRECTIVE","LOOP_NO_REORDER_DIRECTIVE","SHOW_DIRECTIVE","HIDE_DIRECTIVE","KEY_DIRECTIVE","RIOT_EVENTS_KEY","T_STRING","T_OBJECT","T_UNDEF","T_FUNCTION","XLINK_NS","SVG_NS","XLINK_REGEX","WIN","window","undefined","RE_SPECIAL_TAGS","RE_SPECIAL_TAGS_NO_OPTION","RE_EVENTS_PREFIX","RE_HTML_ATTRS","CASE_SENSITIVE_ATTRIBUTES","RE_BOOL_ATTRS","IE_VERSION","documentMode","makeElement","createElementNS","createElement","setAttribute","dom","val","xlink","exec","setAttributeNS","styleNode","cssTextProp","byName","needsInject","newNode","userNode","parentNode","replaceChild","head","appendChild","styleSheet","styleManager","add","css","inject","style","k","cssText","innerHTML","remove","skipRegex","beforeReChars","beforeReWords","wordsLastChar","s","w","RE_REGEX","RE_VN_CHAR","prev","code","pos","_skipRegex","re","lastIndex","next","c","end","brackets","UNDEF","REGLOB","R_MLCOMMS","R_STRINGS","S_QBLOCKS","UNSUPPORTED","NEED_ESCAPE","S_QBLOCK2","FINDBRACES","DEFAULT","_pairs","cachedBrackets","_regex","_cache","_settings","_loopback","_rewrite","bp","_create","pair","arr","split","_brackets","reOrIdx","str","tmpl","_bp","parts","isexpr","qblocks","prevStr","mark","ch","rech","ix","pushQBlock","unescapeStr","_pos","_lastIndex","slash","hasExpr","loopKeys","expr","m","trim","_reset","_setSettings","o","defineProperty","set","get","enumerable","_tmpl","_logErr","clearCache","errorHandler","err","riotData","tagName","__","_riot_id","console","error","message","log","_getTmpl","RE_DQUOTE","RE_QBMARK","qstr","_parseExpr","RE_CSNAME","RE_BREND","asText","cnt","jsb","rightContext","skipBraces","_wrapExpr","mm","lv","ir","JS_CONTEXT","JS_VARNAME","JS_NOPROPS","tb","p","mvar","version","observable","el","callbacks","defineProperties","on","event","fn","writable","configurable","off","splice","one","trigger","arguments$1","arglen","fns","getPropDescriptor","getOwnPropertyDescriptor","isWritable","descriptor","src","skipAnonymousTags","keepValueAttributes","autoUpdate","$$","querySelectorAll","createDOMPlaceholder","createTextNode","toggleVisibility","show","display","hidden","getAttribute","removeAttribute","setInnerHTML","container","html","isSvg","node","ownerDocument","importNode","DOMParser","parseFromString","documentElement","walkAttributes","toLowerCase","createFragment","createDocumentFragment","safeInsert","curr","insertBefore","styleObjectToString","acc","walkNodes","res","firstChild","nextSibling","freeze","mkEl","setAttr","getAttr","remAttr","walkAttrs","createFrag","isNil","isBlank","owner","ownerSVGElement","isBoolAttr","check","startsWith","uid","toCamel","toUpperCase","warn","misc","objectCreate","arrayishAdd","ensureArray","dest","isArr","hasIndex","oldIndex","getName","skipDataIs","child","namedTag","inheritParentProps","parent","reHasYield","reYieldAll","reYieldSrc","reYieldDest","rootEls","tr","th","td","col","tblTags","GENERIC","SVG","specialTags","select","selectedIndex","tname","childElementCount","replaceYield","ref","def","mkdom","EVENT_ATTR_RE","isEventAttribute","attribute","getImmediateCustomParent","tag","ptag","isAnonymous","handleEvent","handler","currentTarget","target","srcElement","which","charCode","keyCode","preventUpdate","isMounted","update","setEventHandler","eventName","listeners","removeEventListener","addEventListener","initChild","opts","createTag","tags","arrayishRemove","makeVirtual","this$1","tail","frag","sib","virts","makeReplaceVirtual","updateDataIs","_tag","ref$1","isVirtual","unmount","impl","mount","onUnmount","delName","dataIs","normalizeAttrName","attrName","updateExpression","attr","isToggle","isStyleAttr","isClassAttr","isValueAttr","wasCreated","hasValue","isObj","JSON","stringify","wasParsedOnce","bool","isRtag","nodeValue","expressions","updateOpts","isLoop","instAttrs","componentUpdate","nextOpts","canTrigger","skipAnonymous","shouldUpdate","query","t","Tag","onCreate","class","mount$1","tag2","elem","allTags","pushTagsTo","riotTag","nodeList","_el","mixins","globals","mixins_id","mix","g","store","update$1","unregister","core","componentMixin","tag$$1","propsBlacklist","getPrototypeOf","getOwnPropertyNames","hasGetterSetter","init","moveChild","newPos","moveVirtual","mkitem","unmountRedundant","items","filteredItemsCount","moveNestedTags","move","nextTag","insert","append","getItemId","keyAttr","originalItem","keyedItem","hasKeyAttrExpr","_each","mustReorder","ifExpr","oldItems","removeChild","updateEach","tmpItems","hasKeys","_item","itemId","doReorder","oldPos","isNew","mustAppend","mustCreate","cloneNode","RefExpr","attrValue","rawValue","hasExp","old","customParent","tagOrDom","__ref","refs","createRefDirective","unmountAll","IfExpr","stub","pristine","update$$1","current","parseExpressions","createIfDirective","mustIncludeRoot","tagImpl","attributes","parentElement","outerHTML","hasIsDirective","parseAttributes","setMountState","componentMount","isPrototypeOf","implAttrs","globalMixin","isInline","tagUnmount","mustKeepRoot","tagIndex","forEach","conf","implClass","_innerHTML","getTagName","mountTo","selectTags","getTag","initChildTag","moveChildTag","getImmediateCustomParentTag","settings$1","util","vdom","Tag$1","tag$1","tag2$1","mount$2","mixin$1","update$2","unregister$1","version$1","observable$1","riot$1","default","getGlobal","fetch","Headers","Request","Response","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","nextTick","Item","title","env","argv","versions","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","isNode","require"],"mappings":"AQAA,IAAMwV,IAAI,GAAGggB,OAAO,CAAC,MAAD,CAApB;AHAA,ADAA,AEAA,cFEA;ACDA,ACAA,AEAAhgB,IFAI+d,AEAA,CAACxH,IAAL,CAAU,CFAC,GAAG1W,CEAd,EAAiB,GFAG,CAACD,OAAP,GAAiB,EAA/B,EAEA,uKEFA,EAA4M,EAA5M,EAAgN,aAAhN,EAA+N,UAASsT,IAAT,EAAe;AHC9O,ADCA,AECA,AEFI,IJCAwK,GIDKuB,KAAL,CJCS,EIDI,CJCD,YAAY,gBIDxB;AHCJ,ADCC,AECD,AHLA,AIAA,ACIC,CAHD;AHGA,ADCC,AECD,AHLC,WAAUv0B,MAAV,EAAkBiV,OAAlB,EAA2B;AEI5B,ADCC,ADJC,AIDF,UJCSC,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DF,OAAO,CAACC,OAAD,CAAtE,GACA,OAAOE,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAAvC,GAA6CD,MAAM,CAAC,CAAC,SAAD,CAAD,EAAcH,OAAd,CAAnD,GACCA,OAAO,CAAEjV,MAAM,CAACsV,IAAP,GAAc,EAAhB,CAFR;AEIF,ADCC,AECD,ALRA,AEKC,CAJA,EAIC,CGGEge,EFDC,CDNJ,EAIQ,ICEGvzB,IAAP,EDFcmV,CGGnB,EFDqB,IDFZ,EAAmB,KCE3B,EAAiC;ACAlC,ADAoC,AEEpC,AHJ8B,AIH9B,IDOIqe,OFFuCxzB,IAAP,OEEpC;ADDA,ADDkD,ADAhD;AEEF,ACEA,ACRA,SDQSyzB,gBAAT,GAA4B;ADD5B,ADFC,AEIG,MFJC,EEIK,IAAIvnB,CFJFgL,IEIF,CAAU,CFJf,KAAkB,WAAtB,EAAmC,cEI1B,CAAN;ADDJ,ADHsC,AEKrC,ACTD,WHI6CA,MAAP;ACItC,ADJsD,AFRtD,ADGA;AIUA,ACCA,ALVA,IAAIzV,CAAC,GAAG,CKUCiyB,mBAAT,ELVcze,CKUkB,SLVxB,CAAR,EACA;AISA,ADLC,AEMG,AJdJ,MEQK,EEMK,IAAI/I,CFNFjM,IEMF,CAAU,CFNf,KAAkB,WAAtB,EAAmC,gBEM1B,CAAN;ADAJ,ADNsC,AEOrC,AHHC,AIPFue,OAAO,CAACG,GHGqC1e,ADIlCuV,AIPX,CJOE,AIPU,CJOCC,ICJyB,IDIpC,EAAqBC,GAArB,EAA0B,eIP5B;AFUA,ADPsD,AFRtD,ADKAjU,AEQI,AIJJ,CNJC,CAACA,CAAF,CMII6zB,ENJE7zB,CAAN,EACA,CMGU,CJIC,CAACiU,CIJE,EJIC,IAAI/D,CIJE2hB,OJIV,AIJG,EJIe3d,GIJI,UJItB,CAAgCF,AIJ7B,IAAkC6d,IJIrC,CAAP,EIJmD,CAACqB,QAAR,IAAoB,IAAtD,IAA8DrB,OAAO,CAACqB,QAAR,CAAiBlS,IAAjB,IAAyB,IAArG;AFOA,ACAC,AJhBD,ACcG,aGEU;ADCb,ADRC,AEQG,AJjBJ,AKUA,IAAI,CAAC6S,CDOG,EFRD,GGCP,CHDWppB,CGCE,ENHEzK,EGER,CAAU,gCAAV,CAAN;ACSD,ADRC,AEQO,AJlBR,ACgBE,AILA8T,CHTF,KDeI,EGCQ,OAAO9I,CCPZid,KAAL,CAAW,GDOD,ACPV,KDOgC,UAA1B,EAAsC;ADC9C,ACAY6J,AJnBZ,ACkBI,AINH,EAED,IDKYA,gBAAgB,GAAG9mB,UAAnB;ADCZ,ADRA,AEQS,AJpBT,ACmBI,AIJJ,IHHIxM,CEMI,KFNE,CEQK,EFRFgzB,SAAS,EAAtB;ACSA,ADPA7d,AEOYme,AJrBZ,ACoBI3d,AIJJ,EJIIA,ICNE,AEOM2d,CFPLpe,OAAP,ADMgB,GCNCA,ADME,EAJjB,GGK0B,EFPJ,CEOOse,EFPJxzB,MAAM,CAACizB,KAAlC,EAEA,AEKY;ADCZ,ACAS,AJtBT,ACgBE,AICF,MJII;AEEJ,ADNA/d,AEMK,AJvBL,ACsBIU,EAAAA,CGLA,CAME,GFNC,CAACmd,GEMKxe,CAAP,AHDQ,EGCE,CFNhB,ADKiB,EANf,CCCgBvU,MAAM,CAACizB,KAAP,CAAa1nB,IAAb,CAAkBvL,MAAlB,CAAlB;ACOA,ADLAkV,AEKQoe,AJxBR,ACgBE,IGQMA,EHDJzd,CCJG,CAACqd,OAAR,ADIa,GCJKlzB,ADIF,EGCQ,GAAGwzB,CFLH,CAACN,ADHvB,OCGF,OEKQ;ADCR,ADLAhe,AEKK,ACNLlV,MAAM,CHCC,AGDAsV,CHCC6d,GGDR,GAAc7d,CHCd,GAAkBtV,MAAM,CAACmzB,EGDzB,KHCA;ACMA,ADLAje,ADII,AILJlV,MAAM,CHCC,AGDAwB,CHCC4xB,AGDR,GAAW5xB,KHCX,GAAmBxB,MAAM,CAACozB,IGD1B,IHCA;ACMA,ACDI,MAAI;ADER,ACDQ,QAAI,OAAOhmB,YAAP,KAAwB,UAA5B,EAAwC;ADEhD,ACDYmmB,AHARzd,EAAAA,IGAQyd,QHAI,GAAG,OGAW,GAAGnmB,MHZ/B,MGYU;ADEZ,ACDS,AHbP,KGWM,CHGJ,KGDW;ADEf,ACDYmmB,AHCRxd,EAAAA,IGDQwd,QHCI,GAAG,OGDW,AHd5B,GGc+BE,mBAArB;ADEZ,ACDS,AHfP,MAiBE;AEAJ,ACDK,AHEDzd,EAAAA,CGRA,CAME,OAAOzB,CAAP,EAAU,EHEE,GAAG,CAAC,KAAD,EAAQ,UAAR,CAlBnB;AEkBF,ACDQgf,AHjBN,IGiBMA,EHEJtd,YAAY,GAAG,CGFO,GAAGwd,KHjB3B,cGiBM;ADER,ACDK,AHlBH,MAoBEvd,qBAAqB,GAAG,IApB1B;AEoBF,ACDC,AHnBC,CGAD,GAAD,EHqBIC,cAAc,GAAG,MArBnB;AEqBF,AFrBE,MAsBEC,yBAAyB,GAAG,YAtB9B;AEsBF,ACFA,AHpBE,MAuBEC,GGHKqd,UAAT,CAAoBC,AHGF,GGHlB,AHGqB,EGHI,IHpBvB;AEuBF,ACFI,AHrBF,MGqBML,AHGJhd,cAAc,EGHM,CHGH,IGHQ9J,EHrB3B,QGqBE,EAAqC;ADGzC,ACFQ,AHtBN,MAyBE+J,aAAa,GAAG,KAzBlB;AEyBF,ACFQ,AHvBN,MA0BEC,KGHWhK,UAAU,AHGN,CGHOmnB,EHGJ,CGHG,EAAM,CAAN,CAAjB,YHvBN;AE0BF,ACFK,AHxBH,GGoBuB,CAKrB,EHGA;AEDJ,AFEIld,EAAAA,QAAQ,GAAG,QA7Bb;AE4BF,AF5BE,MA8BEC,QAAQ,GAAG,QA9Bb;AE6BF,ACHI,AH1BF,MG0BM,AHKJC,CGLK2c,MHKE,GAAI,OGLU,IH1BvB,CG0B4BE,gBAArB,IAAyC,CAACF,gBAA3C,KAAgE9mB,UAApE,EAAgF;ADIpF,ACHQ8mB,AH3BN,IG2BMA,EHKJ1c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AAK,CH5EC,EM0Ed,AHEgBlB,CH5EC5W,KAAK,CAACC,IG4EI,CAAC8X,IH5E5B,AG4EgB,CAAiBnH,IAAjB,CAAZ;AEEJ,ACHA,AN3EA,IM2EIkjB,AN3E8B5zB,QAAQ,EM2E5B,CN3E+BC,EM2E5B,CAAC,CAAlB,EN3EmD,CAACF,SAApD;AK+EA,AL9EA,AG4EI,IH5EAG,IG4EI0X,KAAK,EH5EE,EG4EEA,CH5EC,IG4EI,CAAC,CAAD,CH5EGzX,AG4ErB,EACE,IH7EY,KAAkB,WAAlB,GAAgCA,MAAM,CAACJ,SAAvC,GAAmD,IAArE,EAEA;AK6EA,ACHA,AHCQ2X,MAAAA,GGDCmc,AHCE,CAAC/b,cGDZ,AHCQ,CAAmBtB,EGDA,MHCnB,EAA6BoB,KAAK,CAAC,CAAD,CAAlC,EAAuCD,GAAvC;AEGR,ACHI,AN1EJ,AG0EsD,IH1ElDvX,CGyEA,CGCI,CAACszB,CN1ED,GAAG7zB,AG4EL,IGFE,IAAa,CAAC8zB,CN1ED,CAACvzB,IAAtB,MM0EI,EAAgC;ADIpC,ACHQ,AN3ER,AG4EQsX,IH3EJrX,EG2EIqX,GH3EC,AG2EE,CAACD,EH3EA5X,UAAU,AG2Ed,CH3EeQ,AG2EEqQ,IAAjB,CH5ER,CG4E+BiH,GAAvB;AEGR,ACHK,AN5EL,AG4EsC,IH1ElCrX,QAAQ,GAAGN,QAAQ,CAACM,QAFxB;AKgFA,ALhFA,AG6EG,IH1ECC,cAAc,GAAGP,QAAQ,CAACO,cAH9B,EAKA;AK4EA,ACJImzB,ANvEJ,EMuEIA,QAAQ,GAAG,KAAX;ADKJ,AFHE,MAAI3b,SAAJ,CA/F0B,CAgG1B;AEGF,ACLI,ANvEJ,IAAIvX,EMuEImzB,WNvES,CMuEG,CAAC9wB,CNvED/C,KMuEhB,ANvEqB,CAACW,CMuEG,MNvE7B;AK6EA,ACLQgzB,ANxER,AG0EE,IGFMA,ANvEJ/yB,EGyEEsX,GGFO,GAAG2b,ENvEF,GAAG1zB,AGyEf,MHzEqB,CMuEK,ANvEJU,CMuEK2K,GNxE7B,GMwEgB,CAAoBmoB,KAApB,CAAR;ADMR,ACLK,ANzEL,AG2EE,GGJE,CNrEA7yB,EGyEEqX,GGFK,GHEC,GAAG,CHzEC,CGyEd,EHzEiBhY,MAAM,CAACY,MAF1B,EAIA;AK2EA,ACLQ+yB,AHEN,IGFMA,EHEF1b,QGFY,GAAG,AHEJ,CGFK,CAAd,CHEY,KAAlB,CAnG0B,CAqG1B;AEEF,ACLK,ANtEL,IAAIpX,MAAM,GAAGrB,IAAI,CAACsB,KAAlB;AK4EA,AL5EA,AG0EE,IHzEEC,EGyEE2V,GAAJ,EAAS,EHzEE,GAAGlX,IAAI,CAACwB,QADrB,EAGA;AK0EA,ACNI,AHIA8W,IAAAA,EGJI0b,KAAK,CAAC5wB,CHID,GAAK,EGJd,EAAkB,QHIQ;AEG9B,ACNQixB,ANpER,AGwEM,IGJEA,ANpEJ5yB,IAAI,GAAG,GMoEO,SNpEG,CAAE,CAAvB,EAEA;AKyEA,ACNK,ANlEL,AGsEM,UAAIiX,OAAO,GAAGb,WAAW,CAAC,OAAD,CAAzB,CAFwB,CAGxB;AEEN,ACNC;ADOD,AFFM,UAAIc,QAAQ,GAAGlD,CAAC,CAAC,kBAAD,CAAhB;AEGN,ACNA,ANpEe,AGyETuC,MAAAA,GGLGqc,ANpEe3yB,CAAT,CAAWC,GAAX,EAAgB,EGyEb,CGLlB,AHKmB+W,GGLG,IHKJ,EAAU,MAAV,EAAkB,UAAlB,CAAZ;AEEN,ACNI,ANpEF,AGyEI,MGLEub,ANpEFtyB,GAAG,KMoEL,EAAc,KNpEGD,CAAnB,EAAsB,OAAOC,GAAP;AK2ExB,ACNQ,ANpEN,MAAI,EAAE,gBAAgBD,CAAlB,CAAJ,EAA0B,OAAO,IAAIA,CAAJ,CAAMC,GAAN,CAAP;AK2E5B,ACNK,ANpEH,AGwEI,OHxECC,GGwEG+W,KHxER,GAAgBhX,AGwEZ,EAAc,CHxElB;AK2EF,AL1EC,AGwEO,EHtER,UGsEYgX,QAAQ,CAACjF,EAAb,EAAiB;AEGzB,ACPI,AHIuBgF,MGJnB5L,IHImB4L,GGJZ,GAAGkb,CHIgB,CAAClgB,EAAR,GAAaiF,GGJZ,CAACyb,IHImB,CAAC1gB,EAAtB,QGJC,CAAxB;ADQJ,ACPIugB,AHGkD,EGHlDA,QAAQ,GAAG,IAAX;ADQJ,ACNI,ANpEG,IAAIpyB,EMoEHuH,GAAG,ENpEO,CMoEJ4qB,ENpEOtyB,CAAC,CAACG,CMoEJ,CAACuB,KNpEC,CMoEjB,ENpE6B,QAA1B,EAEP;AKyEA,ALxEA,AGmEQuV,QAAAA,QAAQ,CAACC,UAAT,CAAoBC,YAApB,CAAiCH,OAAjC,EAA0CC,QAA1C;AEMR,ACPI,ANjEJ,AGmEO,OAHD,EGCIvP,GAAN,CHES,CGFE;ADQf,ACPQ8qB,AHCOtiB,IGDPsiB,IHCOtiB,QGDK,AHCG,CAACkH,EGDDkb,EHCR,CAAcjb,EGDrB,SHCO,CAA0BL,OAA1B;AEOf,ACPQsb,AHA4C,IGA5CA,KAAK,GAAG,EAAR;ADQR;AACA,ACRQ,ANnER,AGoEM,SHpEGlyB,EMmEM,EAAEqyB,AHCJzb,MHpEb,CAAoB3W,AGoEd,GGDS,CNnEf,EMmE8BqH,ANnEJpH,GMmElB,EAA2B,ENnEnC,EAAmCC,QAAnC,EAA6C;AK4E7C,ACRY,ANnEV,AGoEG,KAdW,CHtDVD,CGsDF,GGaYkyB,GNnEH,KAAK,IMmEN,CNnEW,CMmEO,ANnE5B,EAAwB,OAAOnyB,IAAP;AK4E1B,ACRgBmyB,QAAAA,YAAY,CAACC,UAAD,CAAZ,CAAyBG,GAAzB;ADShB,ACRa,ANpEX,AGoEE/b,IAAAA,MHpEMtW,KGoEK,GHpEG,AGoEAqW,IHpEI,IAAZ,CGoEiB,CAACU,CHpEC,CAAnB,GAAuB/W,KGoE7B,GHpEF;AK6EF,ACRS,ANpEL,AGoED,SHpEM,CAAL;AK6EJ,AL7EY,AGsEV,aHtEiB,UAASC,KAAT,EAAgB;AK8EnC,ACTQiyB,ANpEF,IMoEEA,UAAU,CNpELpyB,EMoEQ,CAAC,CAAd,ANpES,CAACI,IAAL,CAAUH,OAAV,EAAmBE,KAAnB,CAAP;AK8EN,ACTQkH,ANpEH,IMoEGA,GAAG,ANtEC,GMsEE4qB,KAAK,CAAC5wB,MAAZ;ADUR,ACTK,ANpED;AK8EJ;AACA,ACVI8wB,ANpEA,AGqEF,EGDEA,IHCEjb,GHrEG,CAAL,IMoEY,GAAG,CHCD,GGDd,AHCiB;AEUrB,ACVIgb,ANrEQ,AGsER3b,EGDA2b,EHCA3b,MGDQ,GAAG,ANrEI,AGsEN,EAAEA,GGDX,KNrEwBpW,CGqEP,IHrEF,EAAgBE,KAAhB,EAAuBC,UAAvB,EAAmC;AKgFtD,ACVIyxB,ANrEE,EMqEFA,aNrES/xB,EMqEM,CAAC+K,CNrEH,CAAC3K,IAAL,CMqEM,ANrEIH,CMqEnB,MNrES,EAAmBE,KAAnB,EAA0BE,KAA1B,EAAiCC,UAAjC,CAAP;AKgFN,ACVC,ANrEI,AGqED,OHvEQ;AKkFZ;AACA,ACVAkxB,ANtEI,OMsEG,CAACgB,CNtEC,CAAL,MMsEJ,GAAmB,UAAUV,GAAV,EAAe;ADWlC,ACVI,ANvEQ,MMuEJrwB,IAAI,GAAG,ANvEI,IMuEAnD,KAAJ,CAAUmC,ANvEGF,SMuEM,CAACc,CNvEhB,EAAsBlB,GMuEhB,ENvEN,CMuEyB,CAA7B,ANvEiCE,CMuE5C,INvEe,EAAoCC,UAApC,EAAgD;AKkFnE,ALjFM,eAAON,IAAI,CAACI,IAAL,CAAUH,OAAV,EAAmBM,WAAnB,EAAgCJ,KAAhC,EAAuCE,KAAvC,EAA8CC,UAA9C,CAAP;AKkFN,ACXI,ANtEC,AGuED6W,IAAAA,EGDI1W,CNxEI,AGyEL,EAAE,MGDQ,CAACY,EHCA8V,GAAT,CGDD,AHCcC,GGDK,AHClB,CGDL,CHCuBlI,CGDG,GHCrB,EAAwB;AEWjC,ACXQ,ANjFN,AGkFIuH,MAAAA,GGDO,GHCD,CGDKxU,AHCJiN,CGDK,GAAG,AHCT,CGDJ,AHCF,EGDkBjN,CAAC,AHCJmV,GGDO3W,AHCtB,SGD+B,CAACY,MAA9B,EAAsCY,CAAC,EAAvC,EAA2C;ADYnD,ACXYR,AHCNiV,MGDMjV,AHCNiV,IGDU,CAACzU,CAAC,GAAG,CAAL,CAAJ,AHCK,GGDSxB,AHCN,IAAd,KGD6B,CAACwB,CAAD,CAAvB;ADYZ,ACXS,ANvEP,AGwEG,KAVgB,IH9DZ,YAAW;AKmFpB,ACXK,ANvED,WAAOjC,IAAI,CAACQ,KAAL,CAAWP,OAAX,EAAoBQ,SAApB,CAAP;AKmFJ,ALlFG,AGuEC,GHzEF;AKqFF,ACZIwxB,ANtEH,EMsEGA,ANpEJ,KMoES,CAACrzB,IAAN,CAAW,IAAI6zB,IAAJ,CAASX,GAAT,EAAcrwB,IAAd,CAAX;ADaJ,ALhFA;AKiFA,ACbI,ANnEJ,MMmEQwwB,KAAK,CAAC5wB,MAAN,KAAiB,CAAjB,IAAsB,CAAC6wB,QAA3B,EAAqC;ADczC,ACbQL,AHEJxa,IGFIwa,AHEJxa,MAAM,EAAE,EGFM,CAACib,MHEEjb,IGFH,CAAV,CHEI,GAAkB;AEY9B,ACbK,AHEC,UAAI,CAAClC,GAAD,IAAQ,CAACuB,WAAb,EAA0B;AEYhC,ACbC,ANrED,AGsEkC,CGZlC,EAaA,MNvEShW,YAAT,CAAsBP,KAAtB,EAA6BF,OAA7B,EAAsCC,QAAtC,EAAgD;AKmFhD,ALlFE,AGqEwC,MHrEpCC,KAAK,IAAI,IAAb,EAAmB,OAAOQ,QAAP;AKmFrB,ALlFE,MAAIC,UAAU,CAACT,KAAD,CAAd,EAAuB,OAAOJ,UAAU,CAACI,KAAD,EAAQF,OAAR,EAAiBC,QAAjB,CAAjB;AKmFzB,ACbA,ANrEE,AGoEIwW,MHpEA7V,AGoEA6V,GGCG+b,IAAT,CAAcX,ANrEA,CAAC3xB,EMqEf,AHDiB,EGCEuG,CNrEL,AGoEM,CHpEd,GMqEN,CNrEyB,AGoEnB,CGCoB,ANrEAzH,OAAO,CAACkB,KAAD,CAA/B,EAAwC,OAAOW,OAAO,CAACX,KAAD,CAAd;AKmF1C,ACbI,ANrEF,AGoEI,OGCG2xB,ENrEA/wB,CMqEL,AHDMuW,GGCKwa,EHDA,CGCX,CNrEa,CAAC3xB,AGoEA1B,KHpED,CAAf,AGoEsB,CAACU,IAAP,CAAYsX,MAAZ,EACTjU,GADS,CACL,UAAU+U,CAAV,EAAa;AEc1B,ACbI,ANrEH,AGoE2B,EHlE5B,KMmES7Q,KAAL,GAAaA,AHDkB+P,KGC/B,CHDqC,CAACc,CAAD,CAAb;AEe5B,ACbC,ANnED,AGiE+C,OAD7B,EAETzG,IAFS,CAEJ,IAFI,CAAZ;AEiBN,ALhFA,AGkEM;AEeN,ACdA2hB,IAAI,CAACl0B,SAAL,CAAeg0B,GAAf,GAAqB,YAAY;ADejC,ACdI,AHDE,OGCGT,GAAL,AHDMtb,CGCGhW,KAAT,CAAe,IAAf,AHDE,EGCmB,AHDF,KGCOkG,KAA1B;ADeJ,ACdC,ANpED/G,AGkEyB6W,CGAzB,ANlEC,CAACxV,MGkEuBwV,EHlEzB,GAAaxV,MGkEuB,CAACwW,CHlErC,MGkEyB,GAAsBF,KAAtB;AEiBzB,AFjBuD,OAAjD,MACK;AEiBX,ACfAka,ANpEO,AGkEMjb,OGEN,CAACmc,AHFKnc,CHlEGvV,IMoEhB,GAAgB,CNpET,AGkEe,CHlEGb,AGkEFsX,KHlEhB,EMoEP,ANpEgCxX,EGkEnB,GAAsBqX,EHlE5B,EAAkC,CGkE5B;AEkBb,ACdAka,ANrEE,AGiEyC,OGIpC,CAACmB,CNrECjyB,EMqET,GAAc,EAAd,KNrEqB,CAACP,KAAD,EAAQF,OAAR,EAAiBgB,QAAjB,CAAnB;AKoFF,ACdAuwB,ANrEC,AGiEI,EH/DL,GGuCqB,EG4Bd,CAACoB,IAAR,GAAe,EAAf;ADeA,ACdApB,ANnEA,OMmEO,CAACpT,OAAR,GAAkB,EAAlB,EAAsB;ADetB,AFlBI;AEmBJ,ACfAoT,OAAO,CAACqB,QAAR,GAAmB,EAAnB;ADgBA,ALnFA,SAAS3xB,EAAT,CAAYf,KAAZ,EAAmBF,OAAnB,EAA4BC,QAA5B,EAAsC;AKoFtC,ACfA,ANpEE,MAAIP,CAAC,CAACqB,CMoECqP,IAAT,GAAgB,ANpEV,CMoEY,INpEGrP,QAAnB,EAA6B,OAAOrB,CAAC,CAACqB,QAAF,CAAWb,KAAX,EAAkBF,OAAlB,CAAP;AKoF/B,ALnFE,AGiEEyX,IAAAA,KHjEKhX,CGiEC,EAAE,SHjES,AGiEAgX,CHjECvX,KAAD,AGiET,CAAgB+O,CHjECjP,GGiEjB,EAAsB,EHjEb,EAAiBC,QAAjB,CAAnB;AKoFF,ACfAsxB,ANpEC,AGiEK,EH/DN,KMkEO,CAAC/S,EAAR,GAAapO,AHHAoG,IGGb,EHHmB,CAACvH,IAAD,CAAb;AEmBN,ACfAsiB,ANlEA,AG+DM9a,MAAAA,CGGC,CAACoc,SHHS,EGGjB,CHHoB,EGGEziB,EHHhB,EGGN;ADgBA,ACfAmhB,ANlEA,AG+DK,OGGE,CAACplB,IAAR,GAAeiE,IAAf;ADgBA,ACfAmhB,ANlEA,AG6BqB,GAAnB,IGqCK,CAAC1S,GAAR,GAAczO,IAAd;ADgBA,ACfAmhB,ANlEA,AGgEE,OGEK,CAACuB,cAAR,GAAyB1iB,IAAzB;ADgBA,ACfAmhB,OAAO,CAACwB,kBAAR,GAA6B3iB,IAA7B;ADgBA,ACfAmhB,OAAO,CAACyB,IAAR,GAAe5iB,IAAf;ADgBA,ACfAmhB,ANpEO,OMoEA,CAAC0B,CNpEQ/xB,aAAT,CMoEP,ANpE8BnB,GMoEJqQ,CNpEnB,EAA6BjP,CMoEpC,SNpEO,EAAyC;AKoFhD,ACfAowB,ANpEEpwB,EAAAA,KMoEK,CAAC+xB,INpEI,GAAG/xB,UAAU,EMoEzB,ENpE6B,CMoECiP,GNpEf,CMoEf,ENpEoCrQ,IAAI,CAACqB,MAAL,GAAc,CAAnC,GAAuC,CAACD,UAArD;AKoFF,ALnFE,AGkEA,SHlEO,YAAW;AKoFpB,ACfAowB,ANpEI,OMoEG,CAACjL,ANpEAllB,MAAM,GMoEd,ANpEiBC,GMoEG,CNpEC,CAACC,GAAL,CAASd,IMoEIyO,IAAV,CNpEe,CMoEC,ANpEA7N,MAAV,GAAmBD,UAA5B,EAAwC,CAAxC,CAAb;AKoFJ,AChBsC,ANpElC,AGkEF,MAAIuW,EHjEEnW,CMmEqC,EAAP,CNnE1B,GAAGlD,AGiEA,GAAI,EHjEC,CAAC+C,MAAD,CADhB,EGkE2B;AEmB/B,ACjBiD,ANpE7C,AGkE6B,CGEjC,ONlEQhB,KAAK,GAAG,CAFZ;AKsFJ,AFlBI,QAAIuX,aAAa,GAAG,mBAApB;AEmBJ,ACjBA4Z,ANnEI,AGmEA,OGAG,CAAC4B,AHAAvb,GHnEGxX,IMmEX,CNnEgB,EMmEE,CNnECgB,EGmEE,GAAG,CHnEpB,AGoEE,EHpEqBhB,CMmEC6O,GHAJ,CGAN,ANnEc,CGqE1B,CGF4B,ANnE9B,EAAgC,MGmEZ,EAGlB,IAHkB,EAIlB,MAJkB,EAKlB,IALkB,EAMlB,YANkB,EAOlB,QAPkB,EAQlB,QARkB,EASlB,QATkB,EAUlB,MAVkB,EAWlB,OAXkB,CAApB;AEkBJ,ACjBI,ANnEE1N,AGgFF,MHhFEA,EMmEI,AHaFsW,EHhFE,CAACzX,CMmEG+J,INnEJ,CMmEA,ANnEJ,CMmEc,ENnEA3J,CGgFC,GAAGoX,KHhFK,CAACxX,KAAK,EGgFE,CHhFCe,AGgFA4B,MAAd,CAAqB,GHhFhB,CAAvB,GMmEI,CAAN,EHamD+U,CAAV,EAAaC,CAAb,EAAgB;AEK7D,ACjBC,ANnEI,AGgFC,CGfN,YHeaD,CAAC,GAAGC,CAAC,CAACnZ,KAAF,CAAQ,CAAC,CAAT,CAAX;AEKN,AFJK,KAFmB,EAEjB,EAFiB,CAApB;AEOJ,ACjBA2yB,ANpEI,AGkFA,OGdG,CAAC6B,AHcApb,GGdR,CNpEY7W,EMoEE,EHcE,GAAG,GHlFf,IMoEsB,qEHctB;AEIJ,AClB4B,ANnEtB,AGkFF,QAAI8W,CGf2B,ENnExB,CMmEiB,ANnEtB,MGkFY,GAAG,OAAjB;AEIJ,ACnBwC,ANnE1B,CMmEd,cNnEqBlY,IAAI,CAACI,IAAL,CAAU,IAAV,EAAgBoB,IAAhB,CAAP;AKuFd,AFHI,aAAS2W,IAAT,CAAeC,IAAf,EAAqBC,GAArB,EAA0B;AEI9B,ACpBAmZ,ANnEM,AGoFA,OGjBC,CAAC8B,GNnEG,CAAL,CMmEN,AHiBa,EAAEjb,CGjBC,EHiBH,IAAS,CAAT,GGjBazV,CHiBC,EGjBX,EAAe,CHiBCuO,IAAL,CAAUiH,IAAI,CAACC,GAAD,CAAd,CAArB,EAA0C,CAAG;AEInD,ACpBI,ANpEU,QMoEJ,IAAIjO,GNpEOpK,EMoEX,CAAU,CNpEK,CAACI,IAAL,CAAU,IAAV,EAAgBK,SAAS,CAAC,CAAD,CAAzB,EAA8Be,IAA9B,CMoEX,ANpEI,CMoEV;ADqBJ,ACpBC,AHgBK,CGlBN,YHkBa6W,GAAP;AEKN,ALzFM,AGqFD,WHrFM,CAAL;AK0FN,ACrBAmZ,ANrEc,OMqEP,CAAC+B,KAAR,ENrEqBvzB,CMqEL,GNrES,CAACI,IAAL,CAAU,GMqEJ,CNrEN,EAAgBK,SAAS,CAAC,CAAD,CAAzB,EAA8BA,SAAS,CAAC,CAAD,CAAvC,EAA4Ce,IAA5C,CAAP;AK2Fd,ACtB6B,ANxEzB,AG0FA,SGlBgC,CAAP,GHkBhB8W,UAAT,CAAqBF,IAArB,EAA2BpP,KAA3B,EAAkC;AEKtC,ACvBwC,AHoBlC,CGpBN,SHoBUuP,EAAE,GAAG,KAAT;AEIN,AL3FI,AGwFE,QHxFE9W,EGwFE4W,EHxFE,CGwFC,EHxFE/Z,CGwFCia,EAAE,CAACC,CHxFC,CAACpX,OGwFL,GHxFe,AGwFA4H,GHxFG,CAAd,CAAhB,AGwFgC,EAA9B;AEIN,AFHM,UAAI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AmB,GAAnB,GAAyB,gBAAgBA,MAfvD;AEEJ,AFFI,QAiBE+L,UAAU,GAAG;AEdnB,AL/FO,AG8GC,SH9GQ/W,EG8GH0O,EH9GN,CAAcpR,GAAd,AG8GY,CAAC,CH9GMoB,QAAnB,EAA6Bf,CG8GFmZ,MH9G3B,EAAsC,CG8G1B,EAA0BN,MAA1B,CADA;AEbnB,AL/FE9X,AG8GM,EH9GNA,QAAQ,CG8GGgQ,EH9GAjR,IG8GM,CAAC,KH9GG,CAACiB,QAAD,AG8GWoY,EH9GAnZ,OAAX,AG8GJ,CH9GjB,CG8G2C6Y,MAA1B,CAFA;AEZnB,AL/FE,AG8GM,MH9GF7W,CAAJ,EAAOZ,EG8GI2P,IH9GX,EG8GiB,CAAC,YAAcoI,SAAf,EAA0BN,MAA1B;AEdnB,AFWmB,KAjBf;AEOJ,ALhGE,AGyFE,MHzFEzW,EGgHAiX,OAAO,EHhHI,CAAC1Z,AGgHF,GHhHC,CAAf,CGyFE,CHzFoB;AKiGxB,ALhGI,AGiHA,QAAI2Z,CHjHCtX,CAAC,GAAG,CAAJ,AGiHK,EHjHEZ,CGiHC,CACX,GADW,CHjHK,CGkHX,EHlHczB,CGiHR,EHjHW,AGmHtB,CHnHuByB,EGiHZ,EAEN,EHnHP,CGiHa,CHjHoBY,CAAC,AGoHhC,GHpHmCZ,MAArC,AGiHa,EHjHgCY,AGqH3C,CHrH4C,EAA9C,EAAkD,MGiHrC,EAKX,UALW,EAMX+O,MAAM,CAAC,yBAAyBoI,SAA1B,EAAqCN,MAArC,CANK,EAOXQ,OAPW,EAQX,wDARW,EASX,sBATW,CAAb;AEhBJ,ALhGMtY,MAAAA,QAAQ,CAACpB,GAAG,CAACqC,CAAD,CAAJ,EAASA,CAAT,EAAYrC,GAAZ,CAAR;AKiGN,ALhGK,AG2HD,QACE4Z,cAAc,GAAGX,KADnB;AE1BJ,ALhGG,AG0HC,GH9HF,KGgIIY,CH5HG,KG0HL;AEzBJ,ALhGI,AGyHA,QHzHIlX,AG4HFmX,KH5HO,CG4HD,EH5HIva,CG4HD,EAHX,CHzHgB,CAACS,GAAD,CAAhB;AKiGJ,AFwBI,QAIE+Z,SAJF;AEvBJ,ALjGI,SAAK1X,CAAC,GAAG,CAAJ,EAAOZ,MAAM,GAAGkB,KAAK,CAAClB,MAA3B,EAAmCY,CAAC,GAAG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L5GE,AG8HMH,QAAAA,CH9HCnW,KG8HK,CH9HC,AG8HA,CH9HC3D,AG8HF,CAAN,EH9HO,CG8HK6Z,CH9HC3Y,KG8HK,CAACyY,CH9HC,CAAC/U,IG8HI,CH9HL,AG8HM,CH9HnB,AG8HkB,CH9H/B,AG8HwB,CAAlB;AEjBR,AL5GC,AG8HM,EH5HP;AK2GA,AL1GA;AK2GA,AFiBMgV,MAAAA,cAAc,GAAGQ,IAAjB;AEhBN,AFiBK;AEhBL,AL5GO,SAASvV,SAAT,CAAmB7E,GAAnB,EAAwB4E,KAAxB,EAA+B;AK6GtC,AL5GE,AG6HE,SH7HKtB,IAAI,AG6HAyY,CH7HC/b,GAAD,EAAMkB,MG6Hf,CH7HsB,AG6HC8a,CH7HApX,AG6HvB,EAA0B,GH7HJ,CAAb,CAAX;AK6GF,AL5GC,AG6HK,EH3HN,QG2HUoB,CAAJ;AEhBN,AFkBMgW,MAAAA,CAAC,GAAGA,CAAC,IAAI,EAAT;AEjBN,AFkBMhW,MAAAA,CAAC,GAAGgW,CAAC,CAAChD,QAAN;AEjBN,AL5GO,AG8HDna,MAAAA,GH9HU8C,GAAT,AG8HK,CH9HQ3B,AG8HPic,GH9HN,EAAkB7a,QAAlB,CG8HD,CH9H6Bf,AG8HP2b,CAAtB,EAAyB,IH9HxB,EAAqC,IG8HtC,EAAqC;AEjB3C,AL5GE,AG8HME,MH9HFna,EG8HEma,GAAG,CH9HC,CG8HCJ,EH9HE,CAACza,GG6H2B,KH7HzC;AK6GF,AL7GE,AG+HM8a,MH/HkBrX,EG+HlBqX,GAAG,EAAE,KH/HyB,GAAG,CAAC9a,GG+HjB,KH/HvB;AK8GF,AL9GE,AG+HyB,MH9HrBd,KADJ,MG+HgCqZ,cAAP;AEhB3B,AL/GE,AG+HgD,MH9HrC7U,GG4H8B,KH7HzC;AKgHF,AFgBQqX,QAAAA,UAAU,EAAE;AEfpB,AL/GE,AG2HyC,MH3HrChb,CG2HA,OH3HQ,IAAI,IAAZ,IAAoB,OAAOA,QAAP,IAAmB,QAAnB,IAA+B,OAAOpB,GAAG,CAAC,CAAD,CAAV,IAAiB,QAAhD,IAA4DA,GAAG,IAAI,IAA3F,EAAiG;AKgHnG,AL/GIA,AG+HE+Z,IH/HF/Z,EG+HE+Z,CH/HC,GAAGtX,KG+HK,GAAGuZ,CAAZ,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","file":"spalate.js","sourceRoot":"../../app","sourcesContent":["//     Underscore.js 1.10.2\n//     https://underscorejs.org\n//     (c) 2009-2020 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n// Baseline setup\n// --------------\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nvar root = typeof self == 'object' && self.self === self && self ||\n          typeof global == 'object' && global.global === global && global ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nvar ArrayProto = Array.prototype, ObjProto = Object.prototype;\nvar SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nvar push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// All **ECMAScript 5** native function implementations that we hope to use\n// are declared here.\nvar nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create;\n\n// Create references to these builtin functions because we override them.\nvar _isNaN = root.isNaN,\n    _isFinite = root.isFinite;\n\n// Naked function reference for surrogate-prototype-swapping.\nvar Ctor = function(){};\n\n// The Underscore object. All exported functions below are added to it in the\n// modules/index-all.js using the mixin function.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n// Current version.\nexport var VERSION = _.VERSION = '1.10.2';\n\n// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nfunction optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because were not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result  either `identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nfunction baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only argCount argument.\n_.iteratee = iteratee;\nexport function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n\n// The function we actually call internally. It invokes _.iteratee if\n// overridden, otherwise baseIteratee.\nfunction cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n\n// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the functions\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6s \"rest parameter\".\nexport function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n\n// An internal function for creating a new object that inherits from another.\nfunction baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n\nfunction shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n\nfunction _has(obj, path) {\n  return obj != null && hasOwnProperty.call(obj, path);\n}\n\nfunction deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n\n// Helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nvar MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\nvar getLength = shallowProperty('length');\nfunction isArrayLike(collection) {\n  var length = getLength(collection);\n  return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n}\n\n// Collection Functions\n// --------------------\n\n// The cornerstone, an `each` implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\nexport { each as forEach };\n\n// Return the results of applying the iteratee to each element.\nexport function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\nexport { map as collect };\n\n// Create a reducing function iterating left or right.\nfunction createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport var reduce = createReduce(1);\nexport { reduce as foldl, reduce as inject };\n\n// The right-associative version of reduce, also known as `foldr`.\nexport var reduceRight = createReduce(-1);\nexport { reduceRight as foldr };\n\n// Return the first value which passes a truth test.\nexport function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\nexport { find as detect };\n\n// Return all the elements that pass a truth test.\nexport function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\nexport { filter as select };\n\n// Return all the elements for which a truth test fails.\nexport function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n\n// Determine whether all of the elements match a truth test.\nexport function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\nexport { every as all };\n\n// Determine if at least one element in the object matches a truth test.\nexport function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\nexport { some as any };\n\n// Determine if the array or object contains a given item (using `===`).\nexport function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\nexport { contains as includes, contains as include };\n\n// Invoke a method (with arguments) on every item in a collection.\nexport var invoke = restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else if (isArray(path)) {\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n\n// Convenience version of a common use case of `map`: fetching a property.\nexport function pluck(obj, key) {\n  return map(obj, property(key));\n}\n\n// Convenience version of a common use case of `filter`: selecting only objects\n// containing specific `key:value` pairs.\nexport function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n\n// Convenience version of a common use case of `find`: getting the first object\n// containing specific `key:value` pairs.\nexport function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n\n// Return the maximum element (or element-based computation).\nexport function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n\n// Return the minimum element (or element-based computation).\nexport function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || computed === Infinity && result === Infinity) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n\n// Shuffle a collection.\nexport function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/FisherYates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `map`.\nexport function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = isArrayLike(obj) ? clone(obj) : values(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n\n// An internal function used for aggregate \"group by\" operations.\nfunction group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport var groupBy = group(function(result, value, key) {\n  if (_has(result, key)) result[key].push(value); else result[key] = [value];\n});\n\n// Indexes the object's values by a criterion, similar to `groupBy`, but for\n// when you know that your index values will be unique.\nexport var indexBy = group(function(result, value, key) {\n  result[key] = value;\n});\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport var countBy = group(function(result, value, key) {\n  if (_has(result, key)) result[key]++; else result[key] = 1;\n});\n\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n// Safely create a real, live array from anything iterable.\nexport function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n\n// Return the number of elements in an object.\nexport function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n\n// Split a collection into two arrays: one whose elements all satisfy the given\n// predicate, and one whose elements all do not satisfy the predicate.\nexport var partition = group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n\n// Array Functions\n// ---------------\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `map`.\nexport function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\nexport { first as head, first as take };\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n\n// Returns everything but the first entry of the array. Especially useful on\n// the arguments object. Passing an **n** will return the rest N values in the\n// array.\nexport function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\nexport { rest as tail, rest as drop };\n\n// Trim out all falsy values from an array.\nexport function compact(array) {\n  return filter(array, Boolean);\n}\n\n// Internal implementation of a recursive `flatten` function.\nfunction _flatten(input, shallow, strict, output) {\n  output = output || [];\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (shallow) {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      } else {\n        _flatten(value, shallow, strict, output);\n        idx = output.length;\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n\n// Flatten out an array, either recursively (by default), or just one level.\nexport function flatten(array, shallow) {\n  return _flatten(array, shallow, false);\n}\n\n// Return a version of the array that does not contain the specified value(s).\nexport var without = restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\nexport { uniq as unique };\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport var union = restArguments(function(arrays) {\n  return uniq(_flatten(arrays, true, true));\n});\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport var difference = restArguments(function(array, rest) {\n  rest = _flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport function unzip(array) {\n  var length = array && max(array, getLength).length || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport var zip = restArguments(unzip);\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of pairs.\nexport function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n\n// Generator function to create the findIndex and findLastIndex functions.\nfunction createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n\n// Returns the first index on an array-like that passes a predicate test.\nexport var findIndex = createPredicateIndexFinder(1);\nexport var findLastIndex = createPredicateIndexFinder(-1);\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n\n// Generator function to create the indexOf and lastIndexOf functions.\nfunction createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport var indexOf = createIndexFinder(1, findIndex, sortedIndex);\nexport var lastIndexOf = createIndexFinder(-1, findLastIndex);\n\n// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n\n// Function (ahem) Functions\n// ------------------\n\n// Determines whether to execute a function as a constructor\n// or a normal function with the provided arguments.\nfunction executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n// available.\nexport var bind = restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. _ acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `partial.placeholder` for a custom placeholder argument.\nexport var partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport var bindAll = restArguments(function(obj, _keys) {\n  _keys = _flatten(_keys, false, false);\n  var index = _keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = _keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n});\n\n// Memoize an expensive function by storing its results.\nexport function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!_has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport var delay = restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport var defer = partial(delay, _, 1);\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nexport function debounce(func, wait, immediate) {\n  var timeout, result;\n\n  var later = function(context, args) {\n    timeout = null;\n    if (args) result = func.apply(context, args);\n  };\n\n  var debounced = restArguments(function(args) {\n    if (timeout) clearTimeout(timeout);\n    if (immediate) {\n      var callNow = !timeout;\n      timeout = setTimeout(later, wait);\n      if (callNow) result = func.apply(this, args);\n    } else {\n      timeout = delay(later, wait, this, args);\n    }\n\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = null;\n  };\n\n  return debounced;\n}\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n\n// Returns a negated version of the passed-in predicate.\nexport function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\n// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n\n// Returns a function that will only be executed on and after the Nth call.\nexport function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n\n// Returns a function that will only be executed up to (but not including) the Nth call.\nexport function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport var once = partial(before, 2);\n\n// Object Functions\n// ----------------\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nvar hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\nfunction collectNonEnumProps(obj, _keys) {\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = isFunction(constructor) && constructor.prototype || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (_has(obj, prop) && !contains(_keys, prop)) _keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !contains(_keys, prop)) {\n      _keys.push(prop);\n    }\n  }\n}\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var _keys = [];\n  for (var key in obj) if (_has(obj, key)) _keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, _keys);\n  return _keys;\n}\n\n// Retrieve all the property names of an object.\nexport function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var _keys = [];\n  for (var key in obj) _keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, _keys);\n  return _keys;\n}\n\n// Retrieve the values of an object's properties.\nexport function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n\n// Returns the results of applying the iteratee to each element of the object.\n// In contrast to map it returns an object.\nexport function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of object.\nexport function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n\n// Invert the keys and values of an object. The values must be serializable.\nexport function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n\n// Return a sorted list of the function names available on the object.\nexport function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\nexport { functions as methods };\n\n// An internal function for creating assigner functions.\nfunction createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          _keys = keysFunc(source),\n          l = _keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = _keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n\n// Extend a given object with all the properties in passed-in object(s).\nexport var extend = createAssigner(allKeys);\n\n// Assigns a given object with all the own properties in the passed-in object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport var extendOwn = createAssigner(keys);\nexport { extendOwn as assign };\n\n// Returns the first key on an object that passes a predicate test.\nexport function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n\n// Internal pick helper function to determine if `obj` has key `key`.\nfunction keyInObj(value, key, obj) {\n  return key in obj;\n}\n\n// Return a copy of the object only containing the whitelisted properties.\nexport var pick = restArguments(function(obj, _keys) {\n  var result = {}, iteratee = _keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (_keys.length > 1) iteratee = optimizeCb(iteratee, _keys[1]);\n    _keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    _keys = _flatten(_keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    var key = _keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n\n// Return a copy of the object without the blacklisted properties.\nexport var omit = restArguments(function(obj, _keys) {\n  var iteratee = _keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (_keys.length > 1) context = _keys[1];\n  } else {\n    _keys = map(_flatten(_keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(_keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n\n// Fill in a given object with default properties.\nexport var defaults = createAssigner(allKeys, true);\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n\n// Create a (shallow-cloned) duplicate of an object.\nexport function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n\n// Invokes interceptor with the obj, and then returns obj.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n\n\n// Internal recursive comparison function for `isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  switch (className) {\n    // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n    case '[object RegExp]':\n    // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(_has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport function isEqual(a, b) {\n  return eq(a, b);\n}\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport function isEmpty(obj) {\n  if (obj == null) return true;\n  if (isArrayLike(obj) && (isArray(obj) || isString(obj) || isArguments(obj))) return obj.length === 0;\n  return keys(obj).length === 0;\n}\n\n// Is a given value a DOM element?\nexport function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n\n// Internal function for creating a toString-based type tester.\nfunction tagTester(name) {\n  return function(obj) {\n    return toString.call(obj) === '[object ' + name + ']';\n  };\n}\n\n// Is a given value an array?\n// Delegates to ECMA5's native Array.isArray\nexport var isArray = nativeIsArray || tagTester('Array');\n\n// Is a given variable an object?\nexport function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || type === 'object' && !!obj;\n}\n\n// Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\nexport var isArguments = tagTester('Arguments');\nexport var isFunction = tagTester('Function');\nexport var isString = tagTester('String');\nexport var isNumber = tagTester('Number');\nexport var isDate = tagTester('Date');\nexport var isRegExp = tagTester('RegExp');\nexport var isError = tagTester('Error');\nexport var isSymbol = tagTester('Symbol');\nexport var isMap = tagTester('Map');\nexport var isWeakMap = tagTester('WeakMap');\nexport var isSet = tagTester('Set');\nexport var isWeakSet = tagTester('WeakSet');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return _has(obj, 'callee');\n    };\n  }\n}());\n\n// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n// IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\n// Is a given object a finite number?\nexport function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !_isNaN(parseFloat(obj));\n}\n\n// Is the given value `NaN`?\nexport function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n\n// Is a given value a boolean?\nexport function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n\n// Is a given value equal to null?\nexport function isNull(obj) {\n  return obj === null;\n}\n\n// Is a given variable undefined?\nexport function isUndefined(obj) {\n  return obj === void 0;\n}\n\n// Shortcut function for checking if an object has a given property directly\n// on itself (in other words, not on a prototype).\nexport function has(obj, path) {\n  if (!isArray(path)) {\n    return _has(obj, path);\n  }\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (obj == null || !hasOwnProperty.call(obj, key)) {\n      return false;\n    }\n    obj = obj[key];\n  }\n  return !!length;\n}\n\n// Utility Functions\n// -----------------\n\n// Keep the identity function around for default iteratees.\nexport function identity(value) {\n  return value;\n}\n\n// Predicate-generating functions. Often useful outside of Underscore.\nexport function constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport function noop(){}\n\n// Creates a function that, when passed an object, will traverse that objects\n// properties down the given `path`, specified as an array of keys or indexes.\nexport function property(path) {\n  if (!isArray(path)) {\n    return shallowProperty(path);\n  }\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n\n// Generates a function for a given object that returns a given property.\nexport function propertyOf(obj) {\n  if (obj == null) {\n    return function(){};\n  }\n  return function(path) {\n    return !isArray(path) ? obj[path] : deepGet(obj, path);\n  };\n}\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\nexport { matcher as matches };\n\n// Run a function **n** times.\nexport function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n\n// Return a random integer between min and max (inclusive).\nexport function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n\n// A (possibly faster) way to get the current timestamp as an integer.\nexport var now = Date.now || function() {\n  return new Date().getTime();\n};\n\n// List of HTML entities for escaping.\nvar escapeMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\nvar unescapeMap = invert(escapeMap);\n\n// Functions for escaping and unescaping strings to/from HTML interpolation.\nfunction createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\nexport var escape = createEscaper(escapeMap);\nexport var unescape = createEscaper(unescapeMap);\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport function result(obj, path, fallback) {\n  if (!isArray(path)) path = [path];\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n\n// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n\n// By default, Underscore uses ERB-style template delimiters, change the\n// following template settings to use alternative delimiters.\nexport var templateSettings = _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n\n// When customizing `templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nvar escapeChar = function(match) {\n  return '\\\\' + escapes[match];\n};\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  // If a variable is not specified, place data values in local scope.\n  if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(settings.variable || 'obj', '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  var argument = settings.variable || 'obj';\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n\n// Add a \"chain\" function. Start chaining a wrapped Underscore object.\nexport function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n\n// OOP\n// ---------------\n// If Underscore is called as a function, it returns a wrapped object that\n// can be used OO-style. This wrapper holds altered versions of all the\n// underscore functions. Wrapped objects may be chained.\n\n// Helper function to continue chaining intermediate results.\nfunction chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n\n// Add your own custom functions to the Underscore object.\nexport function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n\n// Add all mutator Array functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    method.apply(obj, arguments);\n    if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor Array functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    return chainResult(this, method.apply(this._wrapped, arguments));\n  };\n});\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxy for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","export { default } from './index-default.js';\nexport * from './index.js';\n","/* Riot v3.13.2, @license MIT */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.riot = {})));\n}(this, (function (exports) { 'use strict';\n\n  /**\n   * Shorter and fast way to select a single node in the DOM\n   * @param   { String } selector - unique dom selector\n   * @param   { Object } ctx - DOM node where the target of our search will is located\n   * @returns { Object } dom node found\n   */\n  function $(selector, ctx) {\n    return (ctx || document).querySelector(selector)\n  }\n\n  var\n    // be aware, internal usage\n    // ATTENTION: prefix the global dynamic variables with `__`\n    // tags instances cache\n    __TAGS_CACHE = [],\n    // tags implementation cache\n    __TAG_IMPL = {},\n    YIELD_TAG = 'yield',\n\n    /**\n     * Const\n     */\n    GLOBAL_MIXIN = '__global_mixin',\n\n    // riot specific prefixes or attributes\n    ATTRS_PREFIX = 'riot-',\n\n    // Riot Directives\n    REF_DIRECTIVES = ['ref', 'data-ref'],\n    IS_DIRECTIVE = 'data-is',\n    CONDITIONAL_DIRECTIVE = 'if',\n    LOOP_DIRECTIVE = 'each',\n    LOOP_NO_REORDER_DIRECTIVE = 'no-reorder',\n    SHOW_DIRECTIVE = 'show',\n    HIDE_DIRECTIVE = 'hide',\n    KEY_DIRECTIVE = 'key',\n    RIOT_EVENTS_KEY = '__riot-events__',\n\n    // for typeof == '' comparisons\n    T_STRING = 'string',\n    T_OBJECT = 'object',\n    T_UNDEF  = 'undefined',\n    T_FUNCTION = 'function',\n\n    XLINK_NS = 'http://www.w3.org/1999/xlink',\n    SVG_NS = 'http://www.w3.org/2000/svg',\n    XLINK_REGEX = /^xlink:(\\w+)/,\n\n    WIN = typeof window === T_UNDEF ? /* istanbul ignore next */ undefined : window,\n\n    // special native tags that cannot be treated like the others\n    RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n    RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,\n    RE_EVENTS_PREFIX = /^on/,\n    RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g,\n    // some DOM attributes must be normalized\n    CASE_SENSITIVE_ATTRIBUTES = {\n      'viewbox': 'viewBox',\n      'preserveaspectratio': 'preserveAspectRatio'\n    },\n    /**\n     * Matches boolean HTML attributes in the riot tag definition.\n     * With a long list like this, a regex is faster than `[].indexOf` in most browsers.\n     * @const {RegExp}\n     * @see [attributes.md](https://github.com/riot/compiler/blob/dev/doc/attributes.md)\n     */\n    RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,\n    // version# for IE 8-11, 0 for others\n    IE_VERSION = (WIN && WIN.document || /* istanbul ignore next */ {}).documentMode | 0;\n\n  /**\n   * Create a generic DOM node\n   * @param   { String } name - name of the DOM node we want to create\n   * @returns { Object } DOM node just created\n   */\n  function makeElement(name) {\n    return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n  }\n\n  /**\n   * Set any DOM attribute\n   * @param { Object } dom - DOM node we want to update\n   * @param { String } name - name of the property we want to set\n   * @param { String } val - value of the property we want to set\n   */\n  function setAttribute(dom, name, val) {\n    var xlink = XLINK_REGEX.exec(name);\n    if (xlink && xlink[1])\n      { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n    else\n      { dom.setAttribute(name, val); }\n  }\n\n  var styleNode;\n  // Create cache and shortcut to the correct property\n  var cssTextProp;\n  var byName = {};\n  var needsInject = false;\n\n  // skip the following code on the server\n  if (WIN) {\n    styleNode = ((function () {\n      // create a new style element with the correct type\n      var newNode = makeElement('style');\n      // replace any user node or insert the new one into the head\n      var userNode = $('style[type=riot]');\n\n      setAttribute(newNode, 'type', 'text/css');\n      /* istanbul ignore next */\n      if (userNode) {\n        if (userNode.id) { newNode.id = userNode.id; }\n        userNode.parentNode.replaceChild(newNode, userNode);\n      } else { document.head.appendChild(newNode); }\n\n      return newNode\n    }))();\n    cssTextProp = styleNode.styleSheet;\n  }\n\n  /**\n   * Object that will be used to inject and manage the css of every tag instance\n   */\n  var styleManager = {\n    styleNode: styleNode,\n    /**\n     * Save a tag style to be later injected into DOM\n     * @param { String } css - css string\n     * @param { String } name - if it's passed we will map the css to a tagname\n     */\n    add: function add(css, name) {\n      byName[name] = css;\n      needsInject = true;\n    },\n    /**\n     * Inject all previously saved tag styles into DOM\n     * innerHTML seems slow: http://jsperf.com/riot-insert-style\n     */\n    inject: function inject() {\n      if (!WIN || !needsInject) { return }\n      needsInject = false;\n      var style = Object.keys(byName)\n        .map(function (k) { return byName[k]; })\n        .join('\\n');\n      /* istanbul ignore next */\n      if (cssTextProp) { cssTextProp.cssText = style; }\n      else { styleNode.innerHTML = style; }\n    },\n\n    /**\n     * Remove a tag style of injected DOM later.\n     * @param {String} name a registered tagname\n     */\n    remove: function remove(name) {\n      delete byName[name];\n      needsInject = true;\n    }\n  };\n\n  /**\n   * The riot template engine\n   * @version v3.0.8\n   */\n\n  /* istanbul ignore next */\n  var skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n    var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n    var beforeReWords = [\n      'case',\n      'default',\n      'do',\n      'else',\n      'in',\n      'instanceof',\n      'prefix',\n      'return',\n      'typeof',\n      'void',\n      'yield'\n    ];\n\n    var wordsLastChar = beforeReWords.reduce(function (s, w) {\n      return s + w.slice(-1)\n    }, '');\n\n    var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n    var RE_VN_CHAR = /[$\\w]/;\n\n    function prev (code, pos) {\n      while (--pos >= 0 && /\\s/.test(code[pos])){ }\n      return pos\n    }\n\n    function _skipRegex (code, start) {\n\n      var re = /.*/g;\n      var pos = re.lastIndex = start++;\n      var match = re.exec(code)[0].match(RE_REGEX);\n\n      if (match) {\n        var next = pos + match[0].length;\n\n        pos = prev(code, pos);\n        var c = code[pos];\n\n        if (pos < 0 || ~beforeReChars.indexOf(c)) {\n          return next\n        }\n\n        if (c === '.') {\n\n          if (code[pos - 1] === '.') {\n            start = next;\n          }\n\n        } else if (c === '+' || c === '-') {\n\n          if (code[--pos] !== c ||\n              (pos = prev(code, pos)) < 0 ||\n              !RE_VN_CHAR.test(code[pos])) {\n            start = next;\n          }\n\n        } else if (~wordsLastChar.indexOf(c)) {\n\n          var end = pos + 1;\n\n          while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){ }\n          if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n            start = next;\n          }\n        }\n      }\n\n      return start\n    }\n\n    return _skipRegex\n\n  })();\n\n  /**\n   * riot.util.brackets\n   *\n   * - `brackets    ` - Returns a string or regex based on its parameter\n   * - `brackets.set` - Change the current riot brackets\n   *\n   * @module\n   */\n\n  /* global riot */\n\n  /* istanbul ignore next */\n  var brackets = (function (UNDEF) {\n\n    var\n      REGLOB = 'g',\n\n      R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n      R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n      S_QBLOCKS = R_STRINGS.source + '|' +\n        /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n        /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n      UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n      NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n      S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n      FINDBRACES = {\n        '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n        '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n        '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n      },\n\n      DEFAULT = '{ }';\n\n    var _pairs = [\n      '{', '}',\n      '{', '}',\n      /{[^}]*}/,\n      /\\\\([{}])/g,\n      /\\\\({)|{/g,\n      RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n      DEFAULT,\n      /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n      /(^|[^\\\\]){=[\\S\\s]*?}/\n    ];\n\n    var\n      cachedBrackets = UNDEF,\n      _regex,\n      _cache = [],\n      _settings;\n\n    function _loopback (re) { return re }\n\n    function _rewrite (re, bp) {\n      if (!bp) { bp = _cache; }\n      return new RegExp(\n        re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n      )\n    }\n\n    function _create (pair) {\n      if (pair === DEFAULT) { return _pairs }\n\n      var arr = pair.split(' ');\n\n      if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n        throw new Error('Unsupported brackets \"' + pair + '\"')\n      }\n      arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n      arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n      arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n      arr[6] = _rewrite(_pairs[6], arr);\n      arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n      arr[8] = pair;\n      return arr\n    }\n\n    function _brackets (reOrIdx) {\n      return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n    }\n\n    _brackets.split = function split (str, tmpl, _bp) {\n      // istanbul ignore next: _bp is for the compiler\n      if (!_bp) { _bp = _cache; }\n\n      var\n        parts = [],\n        match,\n        isexpr,\n        start,\n        pos,\n        re = _bp[6];\n\n      var qblocks = [];\n      var prevStr = '';\n      var mark, lastIndex;\n\n      isexpr = start = re.lastIndex = 0;\n\n      while ((match = re.exec(str))) {\n\n        lastIndex = re.lastIndex;\n        pos = match.index;\n\n        if (isexpr) {\n\n          if (match[2]) {\n\n            var ch = match[2];\n            var rech = FINDBRACES[ch];\n            var ix = 1;\n\n            rech.lastIndex = lastIndex;\n            while ((match = rech.exec(str))) {\n              if (match[1]) {\n                if (match[1] === ch) { ++ix; }\n                else if (!--ix) { break }\n              } else {\n                rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n              }\n            }\n            re.lastIndex = ix ? str.length : rech.lastIndex;\n            continue\n          }\n\n          if (!match[3]) {\n            re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n            continue\n          }\n        }\n\n        if (!match[1]) {\n          unescapeStr(str.slice(start, pos));\n          start = re.lastIndex;\n          re = _bp[6 + (isexpr ^= 1)];\n          re.lastIndex = start;\n        }\n      }\n\n      if (str && start < str.length) {\n        unescapeStr(str.slice(start));\n      }\n\n      parts.qblocks = qblocks;\n\n      return parts\n\n      function unescapeStr (s) {\n        if (prevStr) {\n          s = prevStr + s;\n          prevStr = '';\n        }\n        if (tmpl || isexpr) {\n          parts.push(s && s.replace(_bp[5], '$1'));\n        } else {\n          parts.push(s);\n        }\n      }\n\n      function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n        if (slash) {\n          _lastIndex = skipRegex(str, _pos);\n        }\n\n        if (tmpl && _lastIndex > _pos + 2) {\n          mark = '\\u2057' + qblocks.length + '~';\n          qblocks.push(str.slice(_pos, _lastIndex));\n          prevStr += str.slice(start, _pos) + mark;\n          start = _lastIndex;\n        }\n        return _lastIndex\n      }\n    };\n\n    _brackets.hasExpr = function hasExpr (str) {\n      return _cache[4].test(str)\n    };\n\n    _brackets.loopKeys = function loopKeys (expr) {\n      var m = expr.match(_cache[9]);\n\n      return m\n        ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n        : { val: expr.trim() }\n    };\n\n    _brackets.array = function array (pair) {\n      return pair ? _create(pair) : _cache\n    };\n\n    function _reset (pair) {\n      if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n        _cache = _create(pair);\n        _regex = pair === DEFAULT ? _loopback : _rewrite;\n        _cache[9] = _regex(_pairs[9]);\n      }\n      cachedBrackets = pair;\n    }\n\n    function _setSettings (o) {\n      var b;\n\n      o = o || {};\n      b = o.brackets;\n      Object.defineProperty(o, 'brackets', {\n        set: _reset,\n        get: function () { return cachedBrackets },\n        enumerable: true\n      });\n      _settings = o;\n      _reset(b);\n    }\n\n    Object.defineProperty(_brackets, 'settings', {\n      set: _setSettings,\n      get: function () { return _settings }\n    });\n\n    /* istanbul ignore next: in the browser riot is always in the scope */\n    _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n    _brackets.set = _reset;\n    _brackets.skipRegex = skipRegex;\n\n    _brackets.R_STRINGS = R_STRINGS;\n    _brackets.R_MLCOMMS = R_MLCOMMS;\n    _brackets.S_QBLOCKS = S_QBLOCKS;\n    _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n    return _brackets\n\n  })();\n\n  /**\n   * @module tmpl\n   *\n   * tmpl          - Root function, returns the template value, render with data\n   * tmpl.hasExpr  - Test the existence of a expression inside a string\n   * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n   */\n\n  /* istanbul ignore next */\n  var tmpl = (function () {\n\n    var _cache = {};\n\n    function _tmpl (str, data) {\n      if (!str) { return str }\n\n      return (_cache[str] || (_cache[str] = _create(str))).call(\n        data, _logErr.bind({\n          data: data,\n          tmpl: str\n        })\n      )\n    }\n\n    _tmpl.hasExpr = brackets.hasExpr;\n\n    _tmpl.loopKeys = brackets.loopKeys;\n\n    // istanbul ignore next\n    _tmpl.clearCache = function () { _cache = {}; };\n\n    _tmpl.errorHandler = null;\n\n    function _logErr (err, ctx) {\n\n      err.riotData = {\n        tagName: ctx && ctx.__ && ctx.__.tagName,\n        _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n      };\n\n      if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n      else if (\n        typeof console !== 'undefined' &&\n        typeof console.error === 'function'\n      ) {\n        console.error(err.message);\n        console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n        console.log(this.data); // eslint-disable-line\n      }\n    }\n\n    function _create (str) {\n      var expr = _getTmpl(str);\n\n      if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n      return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n    }\n\n    var RE_DQUOTE = /\\u2057/g;\n    var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n    function _getTmpl (str) {\n      var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n      var qstr = parts.qblocks;\n      var expr;\n\n      if (parts.length > 2 || parts[0]) {\n        var i, j, list = [];\n\n        for (i = j = 0; i < parts.length; ++i) {\n\n          expr = parts[i];\n\n          if (expr && (expr = i & 1\n\n              ? _parseExpr(expr, 1, qstr)\n\n              : '\"' + expr\n                  .replace(/\\\\/g, '\\\\\\\\')\n                  .replace(/\\r\\n?|\\n/g, '\\\\n')\n                  .replace(/\"/g, '\\\\\"') +\n                '\"'\n\n            )) { list[j++] = expr; }\n\n        }\n\n        expr = j < 2 ? list[0]\n             : '[' + list.join(',') + '].join(\"\")';\n\n      } else {\n\n        expr = _parseExpr(parts[1], 0, qstr);\n      }\n\n      if (qstr.length) {\n        expr = expr.replace(RE_QBMARK, function (_, pos) {\n          return qstr[pos]\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\n/g, '\\\\n')\n        });\n      }\n      return expr\n    }\n\n    var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n    var\n      RE_BREND = {\n        '(': /[()]/g,\n        '[': /[[\\]]/g,\n        '{': /[{}]/g\n      };\n\n    function _parseExpr (expr, asText, qstr) {\n\n      expr = expr\n        .replace(/\\s+/g, ' ').trim()\n        .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n      if (expr) {\n        var\n          list = [],\n          cnt = 0,\n          match;\n\n        while (expr &&\n              (match = expr.match(RE_CSNAME)) &&\n              !match.index\n          ) {\n          var\n            key,\n            jsb,\n            re = /,|([[{(])|$/g;\n\n          expr = RegExp.rightContext;\n          key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n          while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n          jsb  = expr.slice(0, match.index);\n          expr = RegExp.rightContext;\n\n          list[cnt++] = _wrapExpr(jsb, 1, key);\n        }\n\n        expr = !cnt ? _wrapExpr(expr, asText)\n             : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n      }\n      return expr\n\n      function skipBraces (ch, re) {\n        var\n          mm,\n          lv = 1,\n          ir = RE_BREND[ch];\n\n        ir.lastIndex = re.lastIndex;\n        while (mm = ir.exec(expr)) {\n          if (mm[0] === ch) { ++lv; }\n          else if (!--lv) { break }\n        }\n        re.lastIndex = lv ? expr.length : ir.lastIndex;\n      }\n    }\n\n    // istanbul ignore next: not both\n    var // eslint-disable-next-line max-len\n      JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n      JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n      JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n    function _wrapExpr (expr, asText, key) {\n      var tb;\n\n      expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n        if (mvar) {\n          pos = tb ? 0 : pos + match.length;\n\n          if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n            match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n            if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n          } else if (pos) {\n            tb = !JS_NOPROPS.test(s.slice(pos));\n          }\n        }\n        return match\n      });\n\n      if (tb) {\n        expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n      }\n\n      if (key) {\n\n        expr = (tb\n            ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n          ) + '?\"' + key + '\":\"\"';\n\n      } else if (asText) {\n\n        expr = 'function(v){' + (tb\n            ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n          ) + ';return v||v===0?v:\"\"}.call(this)';\n      }\n\n      return expr\n    }\n\n    _tmpl.version = brackets.version = 'v3.0.8';\n\n    return _tmpl\n\n  })();\n\n  /* istanbul ignore next */\n  var observable = function(el) {\n\n    /**\n     * Extend the original object or create a new empty one\n     * @type { Object }\n     */\n\n    el = el || {};\n\n    /**\n     * Private variables\n     */\n    var callbacks = {},\n      slice = Array.prototype.slice;\n\n    /**\n     * Public Api\n     */\n\n    // extend the el object adding the observable methods\n    Object.defineProperties(el, {\n      /**\n       * Listen to the given `event` ands\n       * execute the `callback` each time an event is triggered.\n       * @param  { String } event - event id\n       * @param  { Function } fn - callback function\n       * @returns { Object } el\n       */\n      on: {\n        value: function(event, fn) {\n          if (typeof fn == 'function')\n            { (callbacks[event] = callbacks[event] || []).push(fn); }\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Removes the given `event` listeners\n       * @param   { String } event - event id\n       * @param   { Function } fn - callback function\n       * @returns { Object } el\n       */\n      off: {\n        value: function(event, fn) {\n          if (event == '*' && !fn) { callbacks = {}; }\n          else {\n            if (fn) {\n              var arr = callbacks[event];\n              for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n                if (cb == fn) { arr.splice(i--, 1); }\n              }\n            } else { delete callbacks[event]; }\n          }\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Listen to the given `event` and\n       * execute the `callback` at most once\n       * @param   { String } event - event id\n       * @param   { Function } fn - callback function\n       * @returns { Object } el\n       */\n      one: {\n        value: function(event, fn) {\n          function on() {\n            el.off(event, on);\n            fn.apply(el, arguments);\n          }\n          return el.on(event, on)\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Execute all callback functions that listen to\n       * the given `event`\n       * @param   { String } event - event id\n       * @returns { Object } el\n       */\n      trigger: {\n        value: function(event) {\n          var arguments$1 = arguments;\n\n\n          // getting the arguments\n          var arglen = arguments.length - 1,\n            args = new Array(arglen),\n            fns,\n            fn,\n            i;\n\n          for (i = 0; i < arglen; i++) {\n            args[i] = arguments$1[i + 1]; // skip first argument\n          }\n\n          fns = slice.call(callbacks[event] || [], 0);\n\n          for (i = 0; fn = fns[i]; ++i) {\n            fn.apply(el, args);\n          }\n\n          if (callbacks['*'] && event != '*')\n            { el.trigger.apply(el, ['*', event].concat(args)); }\n\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      }\n    });\n\n    return el\n\n  };\n\n  /**\n   * Short alias for Object.getOwnPropertyDescriptor\n   */\n  function getPropDescriptor (o, k) {\n    return Object.getOwnPropertyDescriptor(o, k)\n  }\n\n  /**\n   * Check if passed argument is undefined\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isUndefined(value) {\n    return typeof value === T_UNDEF\n  }\n\n  /**\n   * Check whether object's property could be overridden\n   * @param   { Object }  obj - source object\n   * @param   { String }  key - object property\n   * @returns { Boolean } true if writable\n   */\n  function isWritable(obj, key) {\n    var descriptor = getPropDescriptor(obj, key);\n    return isUndefined(obj[key]) || descriptor && descriptor.writable\n  }\n\n  /**\n   * Extend any object with other properties\n   * @param   { Object } src - source object\n   * @returns { Object } the resulting extended object\n   *\n   * var obj = { foo: 'baz' }\n   * extend(obj, {bar: 'bar', foo: 'bar'})\n   * console.log(obj) => {bar: 'bar', foo: 'bar'}\n   *\n   */\n  function extend(src) {\n    var obj;\n    var i = 1;\n    var args = arguments;\n    var l = args.length;\n\n    for (; i < l; i++) {\n      if (obj = args[i]) {\n        for (var key in obj) {\n          // check if this property of the source object could be overridden\n          if (isWritable(src, key))\n            { src[key] = obj[key]; }\n        }\n      }\n    }\n    return src\n  }\n\n  /**\n   * Alias for Object.create\n   */\n  function create(src) {\n    return Object.create(src)\n  }\n\n  var settings = extend(create(brackets.settings), {\n    skipAnonymousTags: true,\n    // the \"value\" attributes will be preserved\n    keepValueAttributes: false,\n    // handle the auto updates on any DOM event\n    autoUpdate: true\n  });\n\n  /**\n   * Shorter and fast way to select multiple nodes in the DOM\n   * @param   { String } selector - DOM selector\n   * @param   { Object } ctx - DOM node where the targets of our search will is located\n   * @returns { Object } dom nodes found\n   */\n  function $$(selector, ctx) {\n    return [].slice.call((ctx || document).querySelectorAll(selector))\n  }\n\n  /**\n   * Create a document text node\n   * @returns { Object } create a text node to use as placeholder\n   */\n  function createDOMPlaceholder() {\n    return document.createTextNode('')\n  }\n\n  /**\n   * Toggle the visibility of any DOM node\n   * @param   { Object }  dom - DOM node we want to hide\n   * @param   { Boolean } show - do we want to show it?\n   */\n\n  function toggleVisibility(dom, show) {\n    dom.style.display = show ? '' : 'none';\n    dom.hidden = show ? false : true;\n  }\n\n  /**\n   * Get the value of any DOM attribute on a node\n   * @param   { Object } dom - DOM node we want to parse\n   * @param   { String } name - name of the attribute we want to get\n   * @returns { String | undefined } name of the node attribute whether it exists\n   */\n  function getAttribute(dom, name) {\n    return dom.getAttribute(name)\n  }\n\n  /**\n   * Remove any DOM attribute from a node\n   * @param   { Object } dom - DOM node we want to update\n   * @param   { String } name - name of the property we want to remove\n   */\n  function removeAttribute(dom, name) {\n    dom.removeAttribute(name);\n  }\n\n  /**\n   * Set the inner html of any DOM node SVGs included\n   * @param { Object } container - DOM node where we'll inject new html\n   * @param { String } html - html to inject\n   * @param { Boolean } isSvg - svg tags should be treated a bit differently\n   */\n  /* istanbul ignore next */\n  function setInnerHTML(container, html, isSvg) {\n    // innerHTML is not supported on svg tags so we neet to treat them differently\n    if (isSvg) {\n      var node = container.ownerDocument.importNode(\n        new DOMParser()\n          .parseFromString((\"<svg xmlns=\\\"\" + SVG_NS + \"\\\">\" + html + \"</svg>\"), 'application/xml')\n          .documentElement,\n        true\n      );\n\n      container.appendChild(node);\n    } else {\n      container.innerHTML = html;\n    }\n  }\n\n  /**\n   * Minimize risk: only zero or one _space_ between attr & value\n   * @param   { String }   html - html string we want to parse\n   * @param   { Function } fn - callback function to apply on any attribute found\n   */\n  function walkAttributes(html, fn) {\n    if (!html) { return }\n    var m;\n    while (m = RE_HTML_ATTRS.exec(html))\n      { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n  }\n\n  /**\n   * Create a document fragment\n   * @returns { Object } document fragment\n   */\n  function createFragment() {\n    return document.createDocumentFragment()\n  }\n\n  /**\n   * Insert safely a tag to fix #1962 #1649\n   * @param   { HTMLElement } root - children container\n   * @param   { HTMLElement } curr - node to insert\n   * @param   { HTMLElement } next - node that should preceed the current node inserted\n   */\n  function safeInsert(root, curr, next) {\n    root.insertBefore(curr, next.parentNode && next);\n  }\n\n  /**\n   * Convert a style object to a string\n   * @param   { Object } style - style object we need to parse\n   * @returns { String } resulting css string\n   * @example\n   * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n   */\n  function styleObjectToString(style) {\n    return Object.keys(style).reduce(function (acc, prop) {\n      return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n    }, '')\n  }\n\n  /**\n   * Walk down recursively all the children tags starting dom node\n   * @param   { Object }   dom - starting node where we will start the recursion\n   * @param   { Function } fn - callback to transform the child node just found\n   * @param   { Object }   context - fn can optionally return an object, which is passed to children\n   */\n  function walkNodes(dom, fn, context) {\n    if (dom) {\n      var res = fn(dom, context);\n      var next;\n      // stop the recursion\n      if (res === false) { return }\n\n      dom = dom.firstChild;\n\n      while (dom) {\n        next = dom.nextSibling;\n        walkNodes(dom, fn, res);\n        dom = next;\n      }\n    }\n  }\n\n\n\n  var dom = /*#__PURE__*/Object.freeze({\n    $$: $$,\n    $: $,\n    createDOMPlaceholder: createDOMPlaceholder,\n    mkEl: makeElement,\n    setAttr: setAttribute,\n    toggleVisibility: toggleVisibility,\n    getAttr: getAttribute,\n    remAttr: removeAttribute,\n    setInnerHTML: setInnerHTML,\n    walkAttrs: walkAttributes,\n    createFrag: createFragment,\n    safeInsert: safeInsert,\n    styleObjectToString: styleObjectToString,\n    walkNodes: walkNodes\n  });\n\n  /**\n   * Check against the null and undefined values\n   * @param   { * }  value -\n   * @returns {Boolean} -\n   */\n  function isNil(value) {\n    return isUndefined(value) || value === null\n  }\n\n  /**\n   * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n   * @param { * } value -\n   * @returns { Boolean } -\n   */\n  function isBlank(value) {\n    return isNil(value) || value === ''\n  }\n\n  /**\n   * Check if passed argument is a function\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isFunction(value) {\n    return typeof value === T_FUNCTION\n  }\n\n  /**\n   * Check if passed argument is an object, exclude null\n   * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isObject(value) {\n    return value && typeof value === T_OBJECT // typeof null is 'object'\n  }\n\n  /**\n   * Check if a DOM node is an svg tag or part of an svg\n   * @param   { HTMLElement }  el - node we want to test\n   * @returns {Boolean} true if it's an svg node\n   */\n  function isSvg(el) {\n    var owner = el.ownerSVGElement;\n    return !!owner || owner === null\n  }\n\n  /**\n   * Check if passed argument is a kind of array\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isArray(value) {\n    return Array.isArray(value) || value instanceof Array\n  }\n\n  /**\n   * Check if the passed argument is a boolean attribute\n   * @param   { String } value -\n   * @returns { Boolean } -\n   */\n  function isBoolAttr(value) {\n    return RE_BOOL_ATTRS.test(value)\n  }\n\n  /**\n   * Check if passed argument is a string\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isString(value) {\n    return typeof value === T_STRING\n  }\n\n\n\n  var check = /*#__PURE__*/Object.freeze({\n    isBlank: isBlank,\n    isFunction: isFunction,\n    isObject: isObject,\n    isSvg: isSvg,\n    isWritable: isWritable,\n    isArray: isArray,\n    isBoolAttr: isBoolAttr,\n    isNil: isNil,\n    isString: isString,\n    isUndefined: isUndefined\n  });\n\n  /**\n   * Check whether an array contains an item\n   * @param   { Array } array - target array\n   * @param   { * } item - item to test\n   * @returns { Boolean } -\n   */\n  function contains(array, item) {\n    return array.indexOf(item) !== -1\n  }\n\n  /**\n   * Specialized function for looping an array-like collection with `each={}`\n   * @param   { Array } list - collection of items\n   * @param   {Function} fn - callback function\n   * @returns { Array } the array looped\n   */\n  function each(list, fn) {\n    var len = list ? list.length : 0;\n    var i = 0;\n    for (; i < len; i++) { fn(list[i], i); }\n    return list\n  }\n\n  /**\n   * Faster String startsWith alternative\n   * @param   { String } str - source string\n   * @param   { String } value - test string\n   * @returns { Boolean } -\n   */\n  function startsWith(str, value) {\n    return str.slice(0, value.length) === value\n  }\n\n  /**\n   * Function returning always a unique identifier\n   * @returns { Number } - number from 0...n\n   */\n  var uid = (function uid() {\n    var i = -1;\n    return function () { return ++i; }\n  })();\n\n  /**\n   * Helper function to set an immutable property\n   * @param   { Object } el - object where the new property will be set\n   * @param   { String } key - object key where the new property will be stored\n   * @param   { * } value - value of the new property\n   * @param   { Object } options - set the propery overriding the default options\n   * @returns { Object } - the initial object\n   */\n  function define(el, key, value, options) {\n    Object.defineProperty(el, key, extend({\n      value: value,\n      enumerable: false,\n      writable: false,\n      configurable: true\n    }, options));\n    return el\n  }\n\n  /**\n   * Convert a string containing dashes to camel case\n   * @param   { String } str - input string\n   * @returns { String } my-string -> myString\n   */\n  function toCamel(str) {\n    return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n  }\n\n  /**\n   * Warn a message via console\n   * @param   {String} message - warning message\n   */\n  function warn(message) {\n    if (console && console.warn) { console.warn(message); }\n  }\n\n\n\n  var misc = /*#__PURE__*/Object.freeze({\n    contains: contains,\n    each: each,\n    getPropDescriptor: getPropDescriptor,\n    startsWith: startsWith,\n    uid: uid,\n    defineProperty: define,\n    objectCreate: create,\n    extend: extend,\n    toCamel: toCamel,\n    warn: warn\n  });\n\n  /**\n   * Set the property of an object for a given key. If something already\n   * exists there, then it becomes an array containing both the old and new value.\n   * @param { Object } obj - object on which to set the property\n   * @param { String } key - property name\n   * @param { Object } value - the value of the property to be set\n   * @param { Boolean } ensureArray - ensure that the property remains an array\n   * @param { Number } index - add the new item in a certain array position\n   */\n  function arrayishAdd(obj, key, value, ensureArray, index) {\n    var dest = obj[key];\n    var isArr = isArray(dest);\n    var hasIndex = !isUndefined(index);\n\n    if (dest && dest === value) { return }\n\n    // if the key was never set, set it once\n    if (!dest && ensureArray) { obj[key] = [value]; }\n    else if (!dest) { obj[key] = value; }\n    // if it was an array and not yet set\n    else {\n      if (isArr) {\n        var oldIndex = dest.indexOf(value);\n        // this item never changed its position\n        if (oldIndex === index) { return }\n        // remove the item from its old position\n        if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n        // move or add the item\n        if (hasIndex) {\n          dest.splice(index, 0, value);\n        } else {\n          dest.push(value);\n        }\n      } else { obj[key] = [dest, value]; }\n    }\n  }\n\n  /**\n   * Detect the tag implementation by a DOM node\n   * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n   * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n   */\n  function get(dom) {\n    return dom.tagName && __TAG_IMPL[getAttribute(dom, IS_DIRECTIVE) ||\n      getAttribute(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n  }\n\n  /**\n   * Get the tag name of any DOM node\n   * @param   { Object } dom - DOM node we want to parse\n   * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n   * @returns { String } name to identify this dom node in riot\n   */\n  function getName(dom, skipDataIs) {\n    var child = get(dom);\n    var namedTag = !skipDataIs && getAttribute(dom, IS_DIRECTIVE);\n    return namedTag && !tmpl.hasExpr(namedTag) ?\n      namedTag : child ? child.name : dom.tagName.toLowerCase()\n  }\n\n  /**\n   * Return a temporary context containing also the parent properties\n   * @this Tag\n   * @param { Tag } - temporary tag context containing all the parent properties\n   */\n  function inheritParentProps() {\n    if (this.parent) { return extend(create(this), this.parent) }\n    return this\n  }\n\n  /*\n    Includes hacks needed for the Internet Explorer version 9 and below\n    See: http://kangax.github.io/compat-table/es5/#ie8\n         http://codeplanet.io/dropping-ie8/\n  */\n\n  var\n    reHasYield  = /<yield\\b/i,\n    reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n    reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n    reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n    rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n    tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION,\n    GENERIC = 'div',\n    SVG = 'svg';\n\n\n  /*\n    Creates the root element for table or select child elements:\n    tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n  */\n  function specialTags(el, tmpl, tagName) {\n\n    var\n      select = tagName[0] === 'o',\n      parent = select ? 'select>' : 'table>';\n\n    // trim() is important here, this ensures we don't have artifacts,\n    // so we can check if we have only one element inside the parent\n    el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n    parent = el.firstChild;\n\n    // returns the immediate parent if tr/th/td/col is the only element, if not\n    // returns the whole tree, as this can include additional elements\n    /* istanbul ignore next */\n    if (select) {\n      parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n    } else {\n      // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n      var tname = rootEls[tagName];\n      if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n    }\n    return parent\n  }\n\n  /*\n    Replace the yield tag from any tag template with the innerHTML of the\n    original tag in the page\n  */\n  function replaceYield(tmpl, html) {\n    // do nothing if no yield\n    if (!reHasYield.test(tmpl)) { return tmpl }\n\n    // be careful with #1343 - string on the source having `$1`\n    var src = {};\n\n    html = html && html.replace(reYieldSrc, function (_, ref, text) {\n      src[ref] = src[ref] || text;   // preserve first definition\n      return ''\n    }).trim();\n\n    return tmpl\n      .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n        return src[ref] || def || ''\n      })\n      .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n        return html || def || ''\n      })\n  }\n\n  /**\n   * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n   * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n   *\n   * @param   { String } tmpl  - The template coming from the custom tag definition\n   * @param   { String } html - HTML content that comes from the DOM element where you\n   *           will mount the tag, mostly the original tag in the page\n   * @param   { Boolean } isSvg - true if the root node is an svg\n   * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n   */\n  function mkdom(tmpl, html, isSvg) {\n    var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/);\n    var  tagName = match && match[1].toLowerCase();\n    var el = makeElement(isSvg ? SVG : GENERIC);\n\n    // replace all the yield tags with the tag inner html\n    tmpl = replaceYield(tmpl, html);\n\n    /* istanbul ignore next */\n    if (tblTags.test(tagName))\n      { el = specialTags(el, tmpl, tagName); }\n    else\n      { setInnerHTML(el, tmpl, isSvg); }\n\n    return el\n  }\n\n  var EVENT_ATTR_RE = /^on/;\n\n  /**\n   * True if the event attribute starts with 'on'\n   * @param   { String } attribute - event attribute\n   * @returns { Boolean }\n   */\n  function isEventAttribute(attribute) {\n    return EVENT_ATTR_RE.test(attribute)\n  }\n\n  /**\n   * Loop backward all the parents tree to detect the first custom parent tag\n   * @param   { Object } tag - a Tag instance\n   * @returns { Object } the instance of the first custom parent tag found\n   */\n  function getImmediateCustomParent(tag) {\n    var ptag = tag;\n    while (ptag.__.isAnonymous) {\n      if (!ptag.parent) { break }\n      ptag = ptag.parent;\n    }\n    return ptag\n  }\n\n  /**\n   * Trigger DOM events\n   * @param   { HTMLElement } dom - dom element target of the event\n   * @param   { Function } handler - user function\n   * @param   { Object } e - event object\n   */\n  function handleEvent(dom, handler, e) {\n    var ptag = this.__.parent;\n    var item = this.__.item;\n\n    if (!item)\n      { while (ptag && !item) {\n        item = ptag.__.item;\n        ptag = ptag.__.parent;\n      } }\n\n    // override the event properties\n    /* istanbul ignore next */\n    if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n    /* istanbul ignore next */\n    if (isWritable(e, 'target')) { e.target = e.srcElement; }\n    /* istanbul ignore next */\n    if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n    e.item = item;\n\n    handler.call(this, e);\n\n    // avoid auto updates\n    if (!settings.autoUpdate) { return }\n\n    if (!e.preventUpdate) {\n      var p = getImmediateCustomParent(this);\n      // fixes #2083\n      if (p.isMounted) { p.update(); }\n    }\n  }\n\n  /**\n   * Attach an event to a DOM node\n   * @param { String } name - event name\n   * @param { Function } handler - event callback\n   * @param { Object } dom - dom node\n   * @param { Tag } tag - tag instance\n   */\n  function setEventHandler(name, handler, dom, tag) {\n    var eventName;\n    var cb = handleEvent.bind(tag, dom, handler);\n\n    // avoid to bind twice the same event\n    // possible fix for #2332\n    dom[name] = null;\n\n    // normalize event name\n    eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n    // cache the listener into the listeners array\n    if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n    if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n    if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n    dom[RIOT_EVENTS_KEY][name] = cb;\n    dom.addEventListener(eventName, cb, false);\n  }\n\n  /**\n   * Create a new child tag including it correctly into its parent\n   * @param   { Object } child - child tag implementation\n   * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n   * @param   { String } innerHTML - inner html of the child node\n   * @param   { Object } parent - instance of the parent tag including the child custom tag\n   * @returns { Object } instance of the new child tag just created\n   */\n  function initChild(child, opts, innerHTML, parent) {\n    var tag = createTag(child, opts, innerHTML);\n    var tagName = opts.tagName || getName(opts.root, true);\n    var ptag = getImmediateCustomParent(parent);\n    // fix for the parent attribute in the looped elements\n    define(tag, 'parent', ptag);\n    // store the real parent tag\n    // in some cases this could be different from the custom parent tag\n    // for example in nested loops\n    tag.__.parent = parent;\n\n    // add this tag to the custom parent tag\n    arrayishAdd(ptag.tags, tagName, tag);\n\n    // and also to the real parent tag\n    if (ptag !== parent)\n      { arrayishAdd(parent.tags, tagName, tag); }\n\n    return tag\n  }\n\n  /**\n   * Removes an item from an object at a given key. If the key points to an array,\n   * then the item is just removed from the array.\n   * @param { Object } obj - object on which to remove the property\n   * @param { String } key - property name\n   * @param { Object } value - the value of the property to be removed\n   * @param { Boolean } ensureArray - ensure that the property remains an array\n  */\n  function arrayishRemove(obj, key, value, ensureArray) {\n    if (isArray(obj[key])) {\n      var index = obj[key].indexOf(value);\n      if (index !== -1) { obj[key].splice(index, 1); }\n      if (!obj[key].length) { delete obj[key]; }\n      else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n    } else if (obj[key] === value)\n      { delete obj[key]; } // otherwise just delete the key\n  }\n\n  /**\n   * Adds the elements for a virtual tag\n   * @this Tag\n   * @param { Node } src - the node that will do the inserting or appending\n   * @param { Tag } target - only if inserting, insert before this tag's first child\n   */\n  function makeVirtual(src, target) {\n    var this$1 = this;\n\n    var head = createDOMPlaceholder();\n    var tail = createDOMPlaceholder();\n    var frag = createFragment();\n    var sib;\n    var el;\n\n    this.root.insertBefore(head, this.root.firstChild);\n    this.root.appendChild(tail);\n\n    this.__.head = el = head;\n    this.__.tail = tail;\n\n    while (el) {\n      sib = el.nextSibling;\n      frag.appendChild(el);\n      this$1.__.virts.push(el); // hold for unmounting\n      el = sib;\n    }\n\n    if (target)\n      { src.insertBefore(frag, target.__.head); }\n    else\n      { src.appendChild(frag); }\n  }\n\n  /**\n   * makes a tag virtual and replaces a reference in the dom\n   * @this Tag\n   * @param { tag } the tag to make virtual\n   * @param { ref } the dom reference location\n   */\n  function makeReplaceVirtual(tag, ref) {\n    if (!ref.parentNode) { return }\n    var frag = createFragment();\n    makeVirtual.call(tag, frag);\n    ref.parentNode.replaceChild(frag, ref);\n  }\n\n  /**\n   * Update dynamically created data-is tags with changing expressions\n   * @param { Object } expr - expression tag and expression info\n   * @param { Tag }    parent - parent for tag creation\n   * @param { String } tagName - tag implementation we want to use\n   */\n  function updateDataIs(expr, parent, tagName) {\n    var tag = expr.tag || expr.dom._tag;\n    var ref;\n\n    var ref$1 = tag ? tag.__ : {};\n    var head = ref$1.head;\n    var isVirtual = expr.dom.tagName === 'VIRTUAL';\n\n    if (tag && expr.tagName === tagName) {\n      tag.update();\n      return\n    }\n\n    // sync _parent to accommodate changing tagnames\n    if (tag) {\n      // need placeholder before unmount\n      if(isVirtual) {\n        ref = createDOMPlaceholder();\n        head.parentNode.insertBefore(ref, head);\n      }\n\n      tag.unmount(true);\n    }\n\n    // unable to get the tag name\n    if (!isString(tagName)) { return }\n\n    expr.impl = __TAG_IMPL[tagName];\n\n    // unknown implementation\n    if (!expr.impl) { return }\n\n    expr.tag = tag = initChild(\n      expr.impl, {\n        root: expr.dom,\n        parent: parent,\n        tagName: tagName\n      },\n      expr.dom.innerHTML,\n      parent\n    );\n\n    each(expr.attrs, function (a) { return setAttribute(tag.root, a.name, a.value); });\n    expr.tagName = tagName;\n    tag.mount();\n\n    // root exist first time, after use placeholder\n    if (isVirtual) { makeReplaceVirtual(tag, ref || tag.root); }\n\n    // parent is the placeholder tag, not the dynamic tag so clean up\n    parent.__.onUnmount = function () {\n      var delName = tag.opts.dataIs;\n      arrayishRemove(tag.parent.tags, delName, tag);\n      arrayishRemove(tag.__.parent.tags, delName, tag);\n      tag.unmount();\n    };\n  }\n\n  /**\n   * Nomalize any attribute removing the \"riot-\" prefix\n   * @param   { String } attrName - original attribute name\n   * @returns { String } valid html attribute name\n   */\n  function normalizeAttrName(attrName) {\n    if (!attrName) { return null }\n    attrName = attrName.replace(ATTRS_PREFIX, '');\n    if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n    return attrName\n  }\n\n  /**\n   * Update on single tag expression\n   * @this Tag\n   * @param { Object } expr - expression logic\n   * @returns { undefined }\n   */\n  function updateExpression(expr) {\n    if (this.root && getAttribute(this.root,'virtualized')) { return }\n\n    var dom = expr.dom;\n    // remove the riot- prefix\n    var attrName = normalizeAttrName(expr.attr);\n    var isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName);\n    var isVirtual = expr.root && expr.root.tagName === 'VIRTUAL';\n    var ref = this.__;\n    var isAnonymous = ref.isAnonymous;\n    var parent = dom && (expr.parent || dom.parentNode);\n    var keepValueAttributes = settings.keepValueAttributes;\n    // detect the style attributes\n    var isStyleAttr = attrName === 'style';\n    var isClassAttr = attrName === 'class';\n    var isValueAttr = attrName === 'value';\n\n    var value;\n\n    // if it's a tag we could totally skip the rest\n    if (expr._riot_id) {\n      if (expr.__.wasCreated) {\n        expr.update();\n      // if it hasn't been mounted yet, do that now.\n      } else {\n        expr.mount();\n        if (isVirtual) {\n          makeReplaceVirtual(expr, expr.root);\n        }\n      }\n      return\n    }\n\n    // if this expression has the update method it means it can handle the DOM changes by itself\n    if (expr.update) { return expr.update() }\n\n    var context = isToggle && !isAnonymous ? inheritParentProps.call(this) : this;\n\n    // ...it seems to be a simple expression so we try to calculate its value\n    value = tmpl(expr.expr, context);\n\n    var hasValue = !isBlank(value);\n    var isObj = isObject(value);\n\n    // convert the style/class objects to strings\n    if (isObj) {\n      if (isClassAttr) {\n        value = tmpl(JSON.stringify(value), this);\n      } else if (isStyleAttr) {\n        value = styleObjectToString(value);\n      }\n    }\n\n    // remove original attribute\n    if (expr.attr &&\n        (\n          // the original attribute can be removed only if we are parsing the original expression\n          !expr.wasParsedOnce ||\n          // or its value is false\n          value === false ||\n          // or if its value is currently falsy...\n          // We will keep the \"value\" attributes if the \"keepValueAttributes\"\n          // is enabled though\n          (!hasValue && (!isValueAttr || isValueAttr && !keepValueAttributes))\n        )\n    ) {\n      // remove either riot-* attributes or just the attribute name\n      removeAttribute(dom, getAttribute(dom, expr.attr) ? expr.attr : attrName);\n    }\n\n    // for the boolean attributes we don't need the value\n    // we can convert it to checked=true to checked=checked\n    if (expr.bool) { value = value ? attrName : false; }\n    if (expr.isRtag) { return updateDataIs(expr, this, value) }\n    if (expr.wasParsedOnce && expr.value === value) { return }\n\n    // update the expression value\n    expr.value = value;\n    expr.wasParsedOnce = true;\n\n    // if the value is an object (and it's not a style or class attribute) we can not do much more with it\n    if (isObj && !isClassAttr && !isStyleAttr && !isToggle) { return }\n    // avoid to render undefined/null values\n    if (!hasValue) { value = ''; }\n\n    // textarea and text nodes have no attribute name\n    if (!attrName) {\n      // about #815 w/o replace: the browser converts the value to a string,\n      // the comparison by \"==\" does too, but not in the server\n      value += '';\n      // test for parent avoids error with invalid assignment to nodeValue\n      if (parent) {\n        // cache the parent node because somehow it will become null on IE\n        // on the next iteration\n        expr.parent = parent;\n        if (parent.tagName === 'TEXTAREA') {\n          parent.value = value;                    // #1113\n          if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n        }                                         // will be available on 'updated'\n        else { dom.nodeValue = value; }\n      }\n      return\n    }\n\n    switch (true) {\n    // handle events binding\n    case isFunction(value):\n      if (isEventAttribute(attrName)) {\n        setEventHandler(attrName, value, dom, this);\n      }\n      break\n    // show / hide\n    case isToggle:\n      toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n      break\n    // handle attributes\n    default:\n      if (expr.bool) {\n        dom[attrName] = value;\n      }\n\n      if (isValueAttr && dom.value !== value) {\n        dom.value = value;\n      } else if (hasValue && value !== false) {\n        setAttribute(dom, attrName, value);\n      }\n\n      // make sure that in case of style changes\n      // the element stays hidden\n      if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n    }\n  }\n\n  /**\n   * Update all the expressions in a Tag instance\n   * @this Tag\n   * @param { Array } expressions - expression that must be re evaluated\n   */\n  function update(expressions) {\n    each(expressions, updateExpression.bind(this));\n  }\n\n  /**\n   * We need to update opts for this tag. That requires updating the expressions\n   * in any attributes on the tag, and then copying the result onto opts.\n   * @this Tag\n   * @param   {Boolean} isLoop - is it a loop tag?\n   * @param   { Tag }  parent - parent tag node\n   * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n   * @param   { Object }  opts - tag options\n   * @param   { Array }  instAttrs - tag attributes array\n   */\n  function updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n    // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n    // (and only this case) we don't need to do updateOpts, because the regular parse\n    // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n    if (isLoop && isAnonymous) { return }\n    var ctx = isLoop ? inheritParentProps.call(this) : parent || this;\n\n    each(instAttrs, function (attr) {\n      if (attr.expr) { updateExpression.call(ctx, attr.expr); }\n      // normalize the attribute names\n      opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n    });\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param { Tag } tag - tag object\n   * @param { * } data - data we want to use to extend the tag properties\n   * @param { Array } expressions - component expressions array\n   * @returns { Tag } the current tag instance\n   */\n  function componentUpdate(tag, data, expressions) {\n    var __ = tag.__;\n    var nextOpts = {};\n    var canTrigger = tag.isMounted && !__.skipAnonymous;\n\n    // inherit properties from the parent tag\n    if (__.isAnonymous && __.parent) { extend(tag, __.parent); }\n    extend(tag, data);\n\n    updateOpts.apply(tag, [__.isLoop, __.parent, __.isAnonymous, nextOpts, __.instAttrs]);\n\n    if (\n      canTrigger &&\n      tag.isMounted &&\n      isFunction(tag.shouldUpdate) && !tag.shouldUpdate(data, nextOpts)\n    ) {\n      return tag\n    }\n\n    extend(tag.opts, nextOpts);\n\n    if (canTrigger) { tag.trigger('update', data); }\n    update.call(tag, expressions);\n    if (canTrigger) { tag.trigger('updated'); }\n\n    return tag\n  }\n\n  /**\n   * Get selectors for tags\n   * @param   { Array } tags - tag names to select\n   * @returns { String } selector\n   */\n  function query(tags) {\n    // select all tags\n    if (!tags) {\n      var keys = Object.keys(__TAG_IMPL);\n      return keys + query(keys)\n    }\n\n    return tags\n      .filter(function (t) { return !/[^-\\w]/.test(t); })\n      .reduce(function (list, t) {\n        var name = t.trim().toLowerCase();\n        return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n      }, '')\n  }\n\n  /**\n   * Another way to create a riot tag a bit more es6 friendly\n   * @param { HTMLElement } el - tag DOM selector or DOM node/s\n   * @param { Object } opts - tag logic\n   * @returns { Tag } new riot tag instance\n   */\n  function Tag(el, opts) {\n    // get the tag properties from the class constructor\n    var ref = this;\n    var name = ref.name;\n    var tmpl = ref.tmpl;\n    var css = ref.css;\n    var attrs = ref.attrs;\n    var onCreate = ref.onCreate;\n    // register a new tag and cache the class prototype\n    if (!__TAG_IMPL[name]) {\n      tag(name, tmpl, css, attrs, onCreate);\n      // cache the class constructor\n      __TAG_IMPL[name].class = this.constructor;\n    }\n\n    // mount the tag using the class instance\n    mount$1(el, name, opts, this);\n    // inject the component css\n    if (css) { styleManager.inject(); }\n\n    return this\n  }\n\n  /**\n   * Create a new riot tag implementation\n   * @param   { String }   name - name/id of the new riot tag\n   * @param   { String }   tmpl - tag template\n   * @param   { String }   css - custom tag css\n   * @param   { String }   attrs - root tag attributes\n   * @param   { Function } fn - user function\n   * @returns { String } name/id of the tag just created\n   */\n  function tag(name, tmpl, css, attrs, fn) {\n    if (isFunction(attrs)) {\n      fn = attrs;\n\n      if (/^[\\w-]+\\s?=/.test(css)) {\n        attrs = css;\n        css = '';\n      } else\n        { attrs = ''; }\n    }\n\n    if (css) {\n      if (isFunction(css))\n        { fn = css; }\n      else\n        { styleManager.add(css, name); }\n    }\n\n    name = name.toLowerCase();\n    __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n    return name\n  }\n\n  /**\n   * Create a new riot tag implementation (for use by the compiler)\n   * @param   { String }   name - name/id of the new riot tag\n   * @param   { String }   tmpl - tag template\n   * @param   { String }   css - custom tag css\n   * @param   { String }   attrs - root tag attributes\n   * @param   { Function } fn - user function\n   * @returns { String } name/id of the tag just created\n   */\n  function tag2(name, tmpl, css, attrs, fn) {\n    if (css) { styleManager.add(css, name); }\n\n    __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n    return name\n  }\n\n  /**\n   * Mount a tag using a specific tag implementation\n   * @param   { * } selector - tag DOM selector or DOM node/s\n   * @param   { String } tagName - tag implementation name\n   * @param   { Object } opts - tag logic\n   * @returns { Array } new tags instances\n   */\n  function mount(selector, tagName, opts) {\n    var tags = [];\n    var elem, allTags;\n\n    function pushTagsTo(root) {\n      if (root.tagName) {\n        var riotTag = getAttribute(root, IS_DIRECTIVE), tag;\n\n        // have tagName? force riot-tag to be the same\n        if (tagName && riotTag !== tagName) {\n          riotTag = tagName;\n          setAttribute(root, IS_DIRECTIVE, tagName);\n        }\n\n        tag = mount$1(\n          root,\n          riotTag || root.tagName.toLowerCase(),\n          isFunction(opts) ? opts() : opts\n        );\n\n        if (tag)\n          { tags.push(tag); }\n      } else if (root.length)\n        { each(root, pushTagsTo); } // assume nodeList\n    }\n\n    // inject styles into DOM\n    styleManager.inject();\n\n    if (isObject(tagName) || isFunction(tagName)) {\n      opts = tagName;\n      tagName = 0;\n    }\n\n    // crawl the DOM to find the tag\n    if (isString(selector)) {\n      selector = selector === '*' ?\n        // select all registered tags\n        // & tags found with the riot-tag attribute set\n        allTags = query() :\n        // or just the ones named like the selector\n        selector + query(selector.split(/, */));\n\n      // make sure to pass always a selector\n      // to the querySelectorAll function\n      elem = selector ? $$(selector) : [];\n    }\n    else\n      // probably you have passed already a tag or a NodeList\n      { elem = selector; }\n\n    // select all the registered and mount them inside their root elements\n    if (tagName === '*') {\n      // get all custom tags\n      tagName = allTags || query();\n      // if the root els it's just a single tag\n      if (elem.tagName)\n        { elem = $$(tagName, elem); }\n      else {\n        // select all the children for all the different root elements\n        var nodeList = [];\n\n        each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n        elem = nodeList;\n      }\n      // get rid of the tagName\n      tagName = 0;\n    }\n\n    pushTagsTo(elem);\n\n    return tags\n  }\n\n  // Create a mixin that could be globally shared across all the tags\n  var mixins = {};\n  var globals = mixins[GLOBAL_MIXIN] = {};\n  var mixins_id = 0;\n\n  /**\n   * Create/Return a mixin by its name\n   * @param   { String }  name - mixin name (global mixin if object)\n   * @param   { Object }  mix - mixin logic\n   * @param   { Boolean } g - is global?\n   * @returns { Object }  the mixin logic\n   */\n  function mixin(name, mix, g) {\n    // Unnamed global\n    if (isObject(name)) {\n      mixin((\"__\" + (mixins_id++) + \"__\"), name, true);\n      return\n    }\n\n    var store = g ? globals : mixins;\n\n    // Getter\n    if (!mix) {\n      if (isUndefined(store[name]))\n        { throw new Error((\"Unregistered mixin: \" + name)) }\n\n      return store[name]\n    }\n\n    // Setter\n    store[name] = isFunction(mix) ?\n      extend(mix.prototype, store[name] || {}) && mix :\n      extend(store[name] || {}, mix);\n  }\n\n  /**\n   * Update all the tags instances created\n   * @returns { Array } all the tags instances\n   */\n  function update$1() {\n    return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n  }\n\n  function unregister(name) {\n    styleManager.remove(name);\n    return delete __TAG_IMPL[name]\n  }\n\n  var version = 'v3.13.2';\n\n  var core = /*#__PURE__*/Object.freeze({\n    Tag: Tag,\n    tag: tag,\n    tag2: tag2,\n    mount: mount,\n    mixin: mixin,\n    update: update$1,\n    unregister: unregister,\n    version: version\n  });\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  function componentMixin(tag$$1) {\n    var mixins = [], len = arguments.length - 1;\n    while ( len-- > 0 ) mixins[ len ] = arguments[ len + 1 ];\n\n    each(mixins, function (mix) {\n      var instance;\n      var obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to tag\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = getPropDescriptor(instance, key) || getPropDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!tag$$1.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(tag$$1, key, descriptor);\n          } else {\n            tag$$1[key] = isFunction(instance[key]) ?\n              instance[key].bind(tag$$1) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(tag$$1)(tag$$1.opts); }\n    });\n\n    return tag$$1\n  }\n\n  /**\n   * Move the position of a custom tag in its parent tag\n   * @this Tag\n   * @param   { String } tagName - key where the tag was stored\n   * @param   { Number } newPos - index where the new tag will be stored\n   */\n  function moveChild(tagName, newPos) {\n    var parent = this.parent;\n    var tags;\n    // no parent no move\n    if (!parent) { return }\n\n    tags = parent.tags[tagName];\n\n    if (isArray(tags))\n      { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n    else { arrayishAdd(parent.tags, tagName, this); }\n  }\n\n  /**\n   * Move virtual tag and all child nodes\n   * @this Tag\n   * @param { Node } src  - the node that will do the inserting\n   * @param { Tag } target - insert before this tag's first child\n   */\n  function moveVirtual(src, target) {\n    var this$1 = this;\n\n    var el = this.__.head;\n    var sib;\n    var frag = createFragment();\n\n    while (el) {\n      sib = el.nextSibling;\n      frag.appendChild(el);\n      el = sib;\n      if (el === this$1.__.tail) {\n        frag.appendChild(el);\n        src.insertBefore(frag, target.__.head);\n        break\n      }\n    }\n  }\n\n  /**\n   * Convert the item looped into an object used to extend the child tag properties\n   * @param   { Object } expr - object containing the keys used to extend the children tags\n   * @param   { * } key - value to assign to the new object returned\n   * @param   { * } val - value containing the position of the item in the array\n   * @returns { Object } - new object containing the values of the original item\n   *\n   * The variables 'key' and 'val' are arbitrary.\n   * They depend on the collection type looped (Array, Object)\n   * and on the expression used on the each tag\n   *\n   */\n  function mkitem(expr, key, val) {\n    var item = {};\n    item[expr.key] = key;\n    if (expr.pos) { item[expr.pos] = val; }\n    return item\n  }\n\n  /**\n   * Unmount the redundant tags\n   * @param   { Array } items - array containing the current items to loop\n   * @param   { Array } tags - array containing all the children tags\n   */\n  function unmountRedundant(items, tags, filteredItemsCount) {\n    var i = tags.length;\n    var j = items.length - filteredItemsCount;\n\n    while (i > j) {\n      i--;\n      remove.apply(tags[i], [tags, i]);\n    }\n  }\n\n\n  /**\n   * Remove a child tag\n   * @this Tag\n   * @param   { Array } tags - tags collection\n   * @param   { Number } i - index of the tag to remove\n   */\n  function remove(tags, i) {\n    tags.splice(i, 1);\n    this.unmount();\n    arrayishRemove(this.parent, this, this.__.tagName, true);\n  }\n\n  /**\n   * Move the nested custom tags in non custom loop tags\n   * @this Tag\n   * @param   { Number } i - current position of the loop tag\n   */\n  function moveNestedTags(i) {\n    var this$1 = this;\n\n    each(Object.keys(this.tags), function (tagName) {\n      moveChild.apply(this$1.tags[tagName], [tagName, i]);\n    });\n  }\n\n  /**\n   * Move a child tag\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function move(root, nextTag, isVirtual) {\n    if (isVirtual)\n      { moveVirtual.apply(this, [root, nextTag]); }\n    else\n      { safeInsert(root, this.root, nextTag.root); }\n  }\n\n  /**\n   * Insert and mount a child tag\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function insert(root, nextTag, isVirtual) {\n    if (isVirtual)\n      { makeVirtual.apply(this, [root, nextTag]); }\n    else\n      { safeInsert(root, this.root, nextTag.root); }\n  }\n\n  /**\n   * Append a new tag into the DOM\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function append(root, isVirtual) {\n    if (isVirtual)\n      { makeVirtual.call(this, root); }\n    else\n      { root.appendChild(this.root); }\n  }\n\n  /**\n   * Return the value we want to use to lookup the postion of our items in the collection\n   * @param   { String }  keyAttr         - lookup string or expression\n   * @param   { * }       originalItem    - original item from the collection\n   * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n   * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n   * @returns { * } value that we will use to figure out the item position via collection.indexOf\n   */\n  function getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n    if (keyAttr) {\n      return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n    }\n\n    return originalItem\n  }\n\n  /**\n   * Manage tags having the 'each'\n   * @param   { HTMLElement } dom - DOM node we need to loop\n   * @param   { Tag } parent - parent tag instance where the dom node is contained\n   * @param   { String } expr - string contained in the 'each' attribute\n   * @returns { Object } expression object for this each loop\n   */\n  function _each(dom, parent, expr) {\n    var mustReorder = typeof getAttribute(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || removeAttribute(dom, LOOP_NO_REORDER_DIRECTIVE);\n    var keyAttr = getAttribute(dom, KEY_DIRECTIVE);\n    var hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false;\n    var tagName = getName(dom);\n    var impl = __TAG_IMPL[tagName];\n    var parentNode = dom.parentNode;\n    var placeholder = createDOMPlaceholder();\n    var child = get(dom);\n    var ifExpr = getAttribute(dom, CONDITIONAL_DIRECTIVE);\n    var tags = [];\n    var isLoop = true;\n    var innerHTML = dom.innerHTML;\n    var isAnonymous = !__TAG_IMPL[tagName];\n    var isVirtual = dom.tagName === 'VIRTUAL';\n    var oldItems = [];\n\n    // remove the each property from the original tag\n    removeAttribute(dom, LOOP_DIRECTIVE);\n    removeAttribute(dom, KEY_DIRECTIVE);\n\n    // parse the each expression\n    expr = tmpl.loopKeys(expr);\n    expr.isLoop = true;\n\n    if (ifExpr) { removeAttribute(dom, CONDITIONAL_DIRECTIVE); }\n\n    // insert a marked where the loop tags will be injected\n    parentNode.insertBefore(placeholder, dom);\n    parentNode.removeChild(dom);\n\n    expr.update = function updateEach() {\n      // get the new items collection\n      expr.value = tmpl(expr.val, parent);\n\n      var items = expr.value;\n      var frag = createFragment();\n      var isObject = !isArray(items) && !isString(items);\n      var root = placeholder.parentNode;\n      var tmpItems = [];\n      var hasKeys = isObject && !!items;\n\n      // if this DOM was removed the update here is useless\n      // this condition fixes also a weird async issue on IE in our unit test\n      if (!root) { return }\n\n      // object loop. any changes cause full redraw\n      if (isObject) {\n        items = items ? Object.keys(items).map(function (key) { return mkitem(expr, items[key], key); }) : [];\n      }\n\n      // store the amount of filtered items\n      var filteredItemsCount = 0;\n\n      // loop all the new items\n      each(items, function (_item, index) {\n        var i = index - filteredItemsCount;\n        var item = !hasKeys && expr.key ? mkitem(expr, _item, index) : _item;\n\n        // skip this item because it must be filtered\n        if (ifExpr && !tmpl(ifExpr, extend(create(parent), item))) {\n          filteredItemsCount ++;\n          return\n        }\n\n        var itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr);\n        // reorder only if the items are not objects\n        // or a key attribute has been provided\n        var doReorder = !isObject && mustReorder && typeof _item === T_OBJECT || keyAttr;\n        var oldPos = oldItems.indexOf(itemId);\n        var isNew = oldPos === -1;\n        var pos = !isNew && doReorder ? oldPos : i;\n        // does a tag exist in this position?\n        var tag = tags[pos];\n        var mustAppend = i >= oldItems.length;\n        var mustCreate = doReorder && isNew || !doReorder && !tag || !tags[i];\n\n        // new tag\n        if (mustCreate) {\n          tag = createTag(impl, {\n            parent: parent,\n            isLoop: isLoop,\n            isAnonymous: isAnonymous,\n            tagName: tagName,\n            root: dom.cloneNode(isAnonymous),\n            item: item,\n            index: i,\n          }, innerHTML);\n\n          // mount the tag\n          tag.mount();\n\n          if (mustAppend)\n            { append.apply(tag, [frag || root, isVirtual]); }\n          else\n            { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n          if (!mustAppend) { oldItems.splice(i, 0, item); }\n          tags.splice(i, 0, tag);\n          if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n        } else if (pos !== i && doReorder) {\n          // move\n          if (keyAttr || contains(items, oldItems[pos])) {\n            move.apply(tag, [root, tags[i], isVirtual]);\n            // move the old tag instance\n            tags.splice(i, 0, tags.splice(pos, 1)[0]);\n            // move the old item\n            oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n          }\n\n          // update the position attribute if it exists\n          if (expr.pos) { tag[expr.pos] = i; }\n\n          // if the loop tags are not custom\n          // we need to move all their custom tags into the right position\n          if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n        }\n\n        // cache the original item to use it in the events bound to this node\n        // and its children\n        extend(tag.__, {\n          item: item,\n          index: i,\n          parent: parent\n        });\n\n        tmpItems[i] = itemId;\n\n        if (!mustCreate) { tag.update(item); }\n      });\n\n      // remove the redundant tags\n      unmountRedundant(items, tags, filteredItemsCount);\n\n      // clone the items array\n      oldItems = tmpItems.slice();\n\n      root.insertBefore(frag, placeholder);\n    };\n\n    expr.unmount = function () {\n      each(tags, function (t) { t.unmount(); });\n    };\n\n    return expr\n  }\n\n  var RefExpr = {\n    init: function init(dom, parent, attrName, attrValue) {\n      this.dom = dom;\n      this.attr = attrName;\n      this.rawValue = attrValue;\n      this.parent = parent;\n      this.hasExp = tmpl.hasExpr(attrValue);\n      return this\n    },\n    update: function update() {\n      var old = this.value;\n      var customParent = this.parent && getImmediateCustomParent(this.parent);\n      // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n      var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n      this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n      // the name changed, so we need to remove it from the old key (if present)\n      if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n      if (!isBlank(this.value) && isString(this.value)) {\n        // add it to the refs of parent tag (this behavior was changed >=3.0)\n        if (customParent) { arrayishAdd(\n          customParent.refs,\n          this.value,\n          tagOrDom,\n          // use an array if it's a looped node and the ref is not an expression\n          null,\n          this.parent.__.index\n        ); }\n\n        if (this.value !== old) {\n          setAttribute(this.dom, this.attr, this.value);\n        }\n      } else {\n        removeAttribute(this.dom, this.attr);\n      }\n\n      // cache the ref bound to this dom node\n      // to reuse it in future (see also #2329)\n      if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n    },\n    unmount: function unmount() {\n      var tagOrDom = this.tag || this.dom;\n      var customParent = this.parent && getImmediateCustomParent(this.parent);\n      if (!isBlank(this.value) && customParent)\n        { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n    }\n  };\n\n  /**\n   * Create a new ref directive\n   * @param   { HTMLElement } dom - dom node having the ref attribute\n   * @param   { Tag } context - tag instance where the DOM node is located\n   * @param   { String } attrName - either 'ref' or 'data-ref'\n   * @param   { String } attrValue - value of the ref attribute\n   * @returns { RefExpr } a new RefExpr object\n   */\n  function createRefDirective(dom, tag, attrName, attrValue) {\n    return create(RefExpr).init(dom, tag, attrName, attrValue)\n  }\n\n  /**\n   * Trigger the unmount method on all the expressions\n   * @param   { Array } expressions - DOM expressions\n   */\n  function unmountAll(expressions) {\n    each(expressions, function (expr) {\n      if (expr.unmount) { expr.unmount(true); }\n      else if (expr.tagName) { expr.tag.unmount(true); }\n      else if (expr.unmount) { expr.unmount(); }\n    });\n  }\n\n  var IfExpr = {\n    init: function init(dom, tag, expr) {\n      removeAttribute(dom, CONDITIONAL_DIRECTIVE);\n      extend(this, { tag: tag, expr: expr, stub: createDOMPlaceholder(), pristine: dom });\n      var p = dom.parentNode;\n      p.insertBefore(this.stub, dom);\n      p.removeChild(dom);\n\n      return this\n    },\n    update: function update$$1() {\n      this.value = tmpl(this.expr, this.tag);\n\n      if (!this.stub.parentNode) { return }\n\n      if (this.value && !this.current) { // insert\n        this.current = this.pristine.cloneNode(true);\n        this.stub.parentNode.insertBefore(this.current, this.stub);\n        this.expressions = parseExpressions.apply(this.tag, [this.current, true]);\n      } else if (!this.value && this.current) { // remove\n        this.unmount();\n        this.current = null;\n        this.expressions = [];\n      }\n\n      if (this.value) { update.call(this.tag, this.expressions); }\n    },\n    unmount: function unmount() {\n      if (this.current) {\n        if (this.current._tag) {\n          this.current._tag.unmount();\n        } else if (this.current.parentNode) {\n          this.current.parentNode.removeChild(this.current);\n        }\n      }\n\n      unmountAll(this.expressions || []);\n    }\n  };\n\n  /**\n   * Create a new if directive\n   * @param   { HTMLElement } dom - if root dom node\n   * @param   { Tag } context - tag instance where the DOM node is located\n   * @param   { String } attr - if expression\n   * @returns { IFExpr } a new IfExpr object\n   */\n  function createIfDirective(dom, tag, attr) {\n    return create(IfExpr).init(dom, tag, attr)\n  }\n\n  /**\n   * Walk the tag DOM to detect the expressions to evaluate\n   * @this Tag\n   * @param   { HTMLElement } root - root tag where we will start digging the expressions\n   * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n   * @returns { Array } all the expressions found\n   */\n  function parseExpressions(root, mustIncludeRoot) {\n    var this$1 = this;\n\n    var expressions = [];\n\n    walkNodes(root, function (dom) {\n      var type = dom.nodeType;\n      var attr;\n      var tagImpl;\n\n      if (!mustIncludeRoot && dom === root) { return }\n\n      // text node\n      if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n        { expressions.push({dom: dom, expr: dom.nodeValue}); }\n\n      if (type !== 1) { return }\n\n      var isVirtual = dom.tagName === 'VIRTUAL';\n\n      // loop. each does it's own thing (for now)\n      if (attr = getAttribute(dom, LOOP_DIRECTIVE)) {\n        if(isVirtual) { setAttribute(dom, 'loopVirtual', true); } // ignore here, handled in _each\n        expressions.push(_each(dom, this$1, attr));\n        return false\n      }\n\n      // if-attrs become the new parent. Any following expressions (either on the current\n      // element, or below it) become children of this expression.\n      if (attr = getAttribute(dom, CONDITIONAL_DIRECTIVE)) {\n        expressions.push(createIfDirective(dom, this$1, attr));\n        return false\n      }\n\n      if (attr = getAttribute(dom, IS_DIRECTIVE)) {\n        if (tmpl.hasExpr(attr)) {\n          expressions.push({\n            isRtag: true,\n            expr: attr,\n            dom: dom,\n            attrs: [].slice.call(dom.attributes)\n          });\n\n          return false\n        }\n      }\n\n      // if this is a tag, stop traversing here.\n      // we ignore the root, since parseExpressions is called while we're mounting that root\n      tagImpl = get(dom);\n\n      if(isVirtual) {\n        if(getAttribute(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n        if(!tagImpl && !getAttribute(dom, 'virtualized') && !getAttribute(dom, 'loopVirtual'))  // ok to create virtual tag\n          { tagImpl = { tmpl: dom.outerHTML }; }\n      }\n\n      if (tagImpl && (dom !== root || mustIncludeRoot)) {\n        var hasIsDirective = getAttribute(dom, IS_DIRECTIVE);\n        if(isVirtual && !hasIsDirective) { // handled in update\n          // can not remove attribute like directives\n          // so flag for removal after creation to prevent maximum stack error\n          setAttribute(dom, 'virtualized', true);\n          var tag = createTag(\n            {tmpl: dom.outerHTML},\n            {root: dom, parent: this$1},\n            dom.innerHTML\n          );\n\n          expressions.push(tag); // no return, anonymous tag, keep parsing\n        } else {\n          if (hasIsDirective && isVirtual)\n            { warn((\"Virtual tags shouldn't be used together with the \\\"\" + IS_DIRECTIVE + \"\\\" attribute - https://github.com/riot/riot/issues/2511\")); }\n\n          expressions.push(\n            initChild(\n              tagImpl,\n              {\n                root: dom,\n                parent: this$1\n              },\n              dom.innerHTML,\n              this$1\n            )\n          );\n          return false\n        }\n      }\n\n      // attribute expressions\n      parseAttributes.apply(this$1, [dom, dom.attributes, function (attr, expr) {\n        if (!expr) { return }\n        expressions.push(expr);\n      }]);\n    });\n\n    return expressions\n  }\n\n  /**\n   * Calls `fn` for every attribute on an element. If that attr has an expression,\n   * it is also passed to fn.\n   * @this Tag\n   * @param   { HTMLElement } dom - dom node to parse\n   * @param   { Array } attrs - array of attributes\n   * @param   { Function } fn - callback to exec on any iteration\n   */\n  function parseAttributes(dom, attrs, fn) {\n    var this$1 = this;\n\n    each(attrs, function (attr) {\n      if (!attr) { return false }\n\n      var name = attr.name;\n      var bool = isBoolAttr(name);\n      var expr;\n\n      if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n        expr =  createRefDirective(dom, this$1, name, attr.value);\n      } else if (tmpl.hasExpr(attr.value)) {\n        expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n      }\n\n      fn(attr, expr);\n    });\n  }\n\n  /**\n   * Manage the mount state of a tag triggering also the observable events\n   * @this Tag\n   * @param { Boolean } value - ..of the isMounted flag\n   */\n  function setMountState(value) {\n    var ref = this.__;\n    var isAnonymous = ref.isAnonymous;\n    var skipAnonymous = ref.skipAnonymous;\n\n    define(this, 'isMounted', value);\n\n    if (!isAnonymous || !skipAnonymous) {\n      if (value) { this.trigger('mount'); }\n      else {\n        this.trigger('unmount');\n        this.off('*');\n        this.__.wasCreated = false;\n      }\n    }\n  }\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  function componentMount(tag$$1, dom, expressions, opts) {\n    var __ = tag$$1.__;\n    var root = __.root;\n    root._tag = tag$$1; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(__.parent, [root, root.attributes, function (attr, expr) {\n      if (!__.isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = tag$$1; }\n      attr.expr = expr;\n      __.instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    walkAttributes(__.impl.attrs, function (k, v) { __.implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(tag$$1, [root, __.implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttribute(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(tag$$1, [__.isLoop, __.parent, __.isAnonymous, opts, __.instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin(GLOBAL_MIXIN);\n\n    if (globalMixin && !__.skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          tag$$1.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (__.impl.fn) { __.impl.fn.call(tag$$1, opts); }\n\n    if (!__.skipAnonymous) { tag$$1.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    each(parseExpressions.apply(tag$$1, [dom, __.isAnonymous]), function (e) { return expressions.push(e); });\n\n    tag$$1.update(__.item);\n\n    if (!__.isAnonymous && !__.isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    define(tag$$1, 'root', root);\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!__.skipAnonymous && tag$$1.parent) {\n      var p = getImmediateCustomParent(tag$$1.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        setMountState.call(tag$$1, true);\n      });\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setMountState.call(tag$$1, true);\n    }\n\n    tag$$1.__.wasCreated = true;\n\n    return tag$$1\n  }\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  function tagUnmount(tag, mustKeepRoot, expressions) {\n    var __ = tag.__;\n    var root = __.root;\n    var tagIndex = __TAGS_CACHE.indexOf(tag);\n    var p = root.parentNode;\n\n    if (!__.skipAnonymous) { tag.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttributes(__.impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      removeAttribute(root, name);\n    });\n\n    // remove all the event listeners\n    tag.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove tag instance from the global tags cache collection\n    if (tagIndex !== -1) { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    // clean up the parent tags object\n    if (__.parent && !__.isAnonymous) {\n      var ptag = getImmediateCustomParent(__.parent);\n\n      if (__.isVirtual) {\n        Object\n          .keys(tag.tags)\n          .forEach(function (tagName) { return arrayishRemove(ptag.tags, tagName, tag.tags[tagName]); });\n      } else {\n        arrayishRemove(ptag.tags, __.tagName, tag);\n      }\n    }\n\n    // unmount all the virtual directives\n    if (tag.__.virts) {\n      each(tag.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(__.instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // clear the tag html if it's necessary\n    if (mustKeepRoot) { setInnerHTML(root, ''); }\n    // otherwise detach the root tag from the DOM\n    else if (p) { p.removeChild(root); }\n\n    // custom internal unmount function to avoid relying on the observable\n    if (__.onUnmount) { __.onUnmount(); }\n\n    // weird fix for a weird edge case #2409 and #2436\n    // some users might use your software not as you've expected\n    // so I need to add these dirty hacks to mitigate unexpected issues\n    if (!tag.isMounted) { setMountState.call(tag, true); }\n\n    setMountState.call(tag, false);\n\n    delete root._tag;\n\n    return tag\n  }\n\n  /**\n   * Tag creation factory function\n   * @constructor\n   * @param { Object } impl - it contains the tag template, and logic\n   * @param { Object } conf - tag options\n   * @param { String } innerHTML - html that eventually we need to inject in the tag\n   */\n  function createTag(impl, conf, innerHTML) {\n    if ( impl === void 0 ) impl = {};\n    if ( conf === void 0 ) conf = {};\n\n    var tag = conf.context || {};\n    var opts = conf.opts || {};\n    var parent = conf.parent;\n    var isLoop = conf.isLoop;\n    var isAnonymous = !!conf.isAnonymous;\n    var skipAnonymous = settings.skipAnonymousTags && isAnonymous;\n    var item = conf.item;\n    // available only for the looped nodes\n    var index = conf.index;\n    // All attributes on the Tag when it's first parsed\n    var instAttrs = [];\n    // expressions on this type of Tag\n    var implAttrs = [];\n    var tmpl = impl.tmpl;\n    var expressions = [];\n    var root = conf.root;\n    var tagName = conf.tagName || getName(root);\n    var isVirtual = tagName === 'virtual';\n    var isInline = !isVirtual && !tmpl;\n    var dom;\n\n    if (isInline || isLoop && isAnonymous) {\n      dom = root;\n    } else {\n      if (!isVirtual) { root.innerHTML = ''; }\n      dom = mkdom(tmpl, innerHTML, isSvg(root));\n    }\n\n    // make this tag observable\n    if (!skipAnonymous) { observable(tag); }\n\n    // only call unmount if we have a valid __TAG_IMPL (has name property)\n    if (impl.name && root._tag) { root._tag.unmount(true); }\n\n    define(tag, '__', {\n      impl: impl,\n      root: root,\n      skipAnonymous: skipAnonymous,\n      implAttrs: implAttrs,\n      isAnonymous: isAnonymous,\n      instAttrs: instAttrs,\n      innerHTML: innerHTML,\n      tagName: tagName,\n      index: index,\n      isLoop: isLoop,\n      isInline: isInline,\n      item: item,\n      parent: parent,\n      // tags having event listeners\n      // it would be better to use weak maps here but we can not introduce breaking changes now\n      listeners: [],\n      // these vars will be needed only for the virtual tags\n      virts: [],\n      wasCreated: false,\n      tail: null,\n      head: null\n    });\n\n    // tag protected properties\n    return [\n      ['isMounted', false],\n      // create a unique id to this tag\n      // it could be handy to use it also to improve the virtual dom rendering speed\n      ['_riot_id', uid()],\n      ['root', root],\n      ['opts', opts, { writable: true, enumerable: true }],\n      ['parent', parent || null],\n      // protect the \"tags\" and \"refs\" property from being overridden\n      ['tags', {}],\n      ['refs', {}],\n      ['update', function (data) { return componentUpdate(tag, data, expressions); }],\n      ['mixin', function () {\n        var mixins = [], len = arguments.length;\n        while ( len-- ) mixins[ len ] = arguments[ len ];\n\n        return componentMixin.apply(void 0, [ tag ].concat( mixins ));\n    }],\n      ['mount', function () { return componentMount(tag, dom, expressions, opts); }],\n      ['unmount', function (mustKeepRoot) { return tagUnmount(tag, mustKeepRoot, expressions); }]\n    ].reduce(function (acc, ref) {\n      var key = ref[0];\n      var value = ref[1];\n      var opts = ref[2];\n\n      define(tag, key, value, opts);\n      return acc\n    }, extend(tag, item))\n  }\n\n  /**\n   * Mount a tag creating new Tag instance\n   * @param   { Object } root - dom node where the tag will be mounted\n   * @param   { String } tagName - name of the riot tag we want to mount\n   * @param   { Object } opts - options to pass to the Tag instance\n   * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n   * @returns { Tag } a new Tag instance\n   */\n  function mount$1(root, tagName, opts, ctx) {\n    var impl = __TAG_IMPL[tagName];\n    var implClass = __TAG_IMPL[tagName].class;\n    var context = ctx || (implClass ? create(implClass.prototype) : {});\n    // cache the inner HTML to fix #855\n    var innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n    var conf = extend({ root: root, opts: opts, context: context }, { parent: opts ? opts.parent : null });\n    var tag;\n\n    if (impl && root) { tag = createTag(impl, conf, innerHTML); }\n\n    if (tag && tag.mount) {\n      tag.mount(true);\n      // add this tag to the virtualDom variable\n      if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n    }\n\n    return tag\n  }\n\n\n\n  var tags = /*#__PURE__*/Object.freeze({\n    arrayishAdd: arrayishAdd,\n    getTagName: getName,\n    inheritParentProps: inheritParentProps,\n    mountTo: mount$1,\n    selectTags: query,\n    arrayishRemove: arrayishRemove,\n    getTag: get,\n    initChildTag: initChild,\n    moveChildTag: moveChild,\n    makeReplaceVirtual: makeReplaceVirtual,\n    getImmediateCustomParentTag: getImmediateCustomParent,\n    makeVirtual: makeVirtual,\n    moveVirtual: moveVirtual,\n    unmountAll: unmountAll,\n    createIfDirective: createIfDirective,\n    createRefDirective: createRefDirective\n  });\n\n  /**\n   * Riot public api\n   */\n  var settings$1 = settings;\n  var util = {\n    tmpl: tmpl,\n    brackets: brackets,\n    styleManager: styleManager,\n    vdom: __TAGS_CACHE,\n    styleNode: styleManager.styleNode,\n    // export the riot internal utils as well\n    dom: dom,\n    check: check,\n    misc: misc,\n    tags: tags\n  };\n\n  // export the core props/methods\n  var Tag$1 = Tag;\n  var tag$1 = tag;\n  var tag2$1 = tag2;\n  var mount$2 = mount;\n  var mixin$1 = mixin;\n  var update$2 = update$1;\n  var unregister$1 = unregister;\n  var version$1 = version;\n  var observable$1 = observable;\n\n  var riot$1 = extend({}, core, {\n    observable: observable,\n    settings: settings$1,\n    util: util,\n  });\n\n  exports.settings = settings$1;\n  exports.util = util;\n  exports.Tag = Tag$1;\n  exports.tag = tag$1;\n  exports.tag2 = tag2$1;\n  exports.mount = mount$2;\n  exports.mixin = mixin$1;\n  exports.update = update$2;\n  exports.unregister = unregister$1;\n  exports.version = version$1;\n  exports.observable = observable$1;\n  exports.default = riot$1;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;",";(function(exports, global) {\n  var isNode = (typeof module === \"object\" && typeof module.exports === \"object\" );\n\n  if (isNode) {\n    fetch = require('node-fetch');\n    localStorage = {\n      setItem: function() {},\n      getItem: function() {},\n      removeItem: function() {},\n    };\n  }\n\n  var extend = function(a, b) {\n    for (var key in b) {\n      var v = b[key];\n      a[key] = v;\n    }\n    return a;\n  };\n\n  var qs = {\n    parse: function(text, sep, eq, isDecode) {\n      text = text || location.search.substr(1);\n      sep = sep || '&';\n      eq = eq || '=';\n      var decode = (isDecode) ? decodeURIComponent : function(a) { return a; };\n      return text.split(sep).reduce(function(obj, v) {\n        var pair = v.split(eq);\n        obj[pair[0]] = decode(pair[1]);\n        return obj;\n      }, {});\n    },\n    stringify: function(value, sep, eq, isEncode) {\n      sep = sep || '&';\n      eq = eq || '=';\n      var encode = (isEncode) ? encodeURIComponent : function(a) { return a; };\n\n      var params = [];\n      Object.keys(value).forEach(function(key) {\n        var v = value[key];\n\n        if (typeof v === 'string') {\n          params.push([key, v]);\n        }\n        else if (typeof v === 'number') {\n          params.push([key, v]);\n        }\n        else if (typeof v === 'boolean') {\n          params.push([key, v]);\n        }\n        else if (v instanceof Array) {\n          v.forEach(function(vv) {\n            params.push([key+'[]', vv]);\n          });\n        }\n        else if (v === null) {\n          params.push([key, \"null\"]);\n        }\n        else if (typeof v === 'object') {\n          Object.keys(v).forEach(function(kk) {\n            var vv = v[kk];\n            params.push([key + '[' + kk + ']', vv]);\n          })\n        }\n      });\n\n      return params.map(function(p){\n        return encode(p[0]) + eq + encode(p[1]);\n      }).join(sep);\n    },\n  };\n\n  var setFromPath = function(obj, key, value) {\n    key.split('/').reduce(function(t, v, i, arr) {\n      if (i === (arr.length-1)) {\n        t[v] = value;\n      }\n      else {\n        if (!t[v]) t[v] = {};\n        return t[v];\n      }\n    }, obj);\n  };\n\n  var getFromPath = function(obj, key) {\n    return key.split('/').reduce(function(t, v) {\n      return t && t[v];\n    }, obj);\n  };\n\n  var Child = function(options) {\n    this.init(options);\n  };\n\n  Child.prototype = {\n    init: function(options) {\n      this.api = options.api;\n      this.local = options.local || false;\n      this.debug = options.debug || false;\n      this._data = {};\n      this._headers = {};\n    },\n\n    headers: function(headers) {\n      if (headers) {\n        if (typeof headers === 'object') {\n          extend(this._headers, headers);\n        }\n        else {\n          this._headers[arguments[0]] = arguments[1];\n        }\n        return this;\n      }\n      else {\n        headers = {};\n\n        if (this.parent) {\n          extend(headers, this.parent.headers());\n        }\n        extend(headers, this._headers);\n\n        return headers;\n      }\n    },\n    data: function(data) {\n      if (data) {\n        extend(this._data, data);\n        return this;\n      }\n      else {\n        data = {};\n\n        if (this.parent) {\n          extend(data, this.parent.data());\n        }\n        extend(data, this._data);\n\n        return data;\n      }\n    },\n\n    _fetch: function(options) {\n      var self = this;\n      var root = this.root;\n      var headers = this.headers();\n      var api = this.api;\n      var query = '';\n      var data = null;\n\n      if (options.type === 'GET') {\n        if (options.data) {\n          var temp = extend(this.data(), options.data);\n          query = qs.stringify(temp, null, null, true);\n          api += '?';\n        }\n      }\n      else {\n        if (options.data && options.data.constructor !== global.FormData) {\n          var temp = extend(this.data(), options.data);\n          headers['Content-Type'] = 'application/json; charset=utf-8';\n          data = JSON.stringify( temp );\n        }\n        else {\n          data = options.data;\t\n        }\n      }\n\n\n      var p = fetch(api + query, {\n        method: options.type,\n        headers: headers,\n        body: data || undefined,\n      }).then(function(res) {\n        // fire always\n        root.fire('always', self, res);\n\n        var json = res.json();\n        if (!res.ok) {\n          // http://stackoverflow.com/questions/29473426/fetch-reject-promise-with-json-error-object\n          return json.then(Promise.reject.bind(Promise));\n        }\n        else {\n          return json;\n        }\n      });\n      p.then(function(res) {\n        if (self.debug) {\n          console.log(options.type, api, res);\n        }\n\n        root.fire('success', self, res);\n        return res;\n      });\n      p.catch(function(res) {\n        root.fire('fail', self, res);\n        return res;\n      });\n\n      return p;\n    },\n    _fetchFromLocal: function(options) {\n      var self = this;\n      var api = this.api;\n      var root = this.root;\n      var localData = this.root.localData;\n\n      if(!localData) {\n        return Promise.reject('not found local items');\n      }\n\n      var func = null;\n\n      switch(options.type) {\n        case 'GET':\n          func = function(resolve) {\n            var data = getFromPath(localData, api);\n            resolve(data);\n          };\n          break;\n        case 'PUT':\n          func = function(resolve) {\n            var data = getFromPath(localData, api);\n            extend(r.data, options.data);\n            resolve(data);\n          };\n          break;\n        case 'POST':\n          func = function(resolve) {\n            id = options.data.id;\n            setFromPath(localData, api+'/'+id, options.data);\n            resolve(options.data);\n          };\n          break;\n        case 'DELETE':\n          func = function(resolve) {\n            var pathes = api.split('/');\n            var key = pathes.pop();\n            var path = pathes.join('/');\n            var obj = getFromPath(localData, path);\n\n            delete obj[key];\n\n            resolve(null);\n          };\n          break;\n      }\n\n      var p = new Promise(func);\n\n      p.then(function(res) {\n        root.fire('always', self, res);\n        if (self.debug) {\n          console.log(options.type, self.api, res);\n        }\n\n        root.fire('success', self, res);\n        return res;\n      });\n      p.catch(function(res) {\n        root.fire('fail', self, res);\n        return res;\n      });\n\n      return p;\n    },\n\n    get: function(data) {\n      return this.fetch({\n        type: 'GET',\n        data: data,\n      });\n    },\n    put: function(data) {\n      return this.fetch({\n        type: 'PUT',\n        data: data,\n      });\n    },\n    post: function(data) {\n      return this.fetch({\n        type: 'POST',\n        data: data,\n      });\n    },\n    del: function(data) {\n      return this.fetch({\n        type: 'DELETE',\n        data: data,\n      });\n    },\n\n    child: function(api) {\n      // normalize\n      api = (api+'').replace(/^\\//, '').replace(/\\/$/, '');\n\n      var child = new Child({\n        api: this.api + '/' + api,\n        local: this.local,\n        debug: this.debug,\n      });\n      child.root = this.root;\n      child.parent = this;\n\n      return child;\n    },\n\n    log: function() {\n      console.log(this.api);\n    },\n\n    migrate: function(data) {\n      var key = this.api;\n      setFromPath(this.root.localData, key, data);\n      return this;\n    },\n\n    fetch: async function(options) {\n      await this.root.fire('prefetch', this);\n\n      var p = null;\n\n      if (this.local) {\n        p = this._fetchFromLocal(options);\n      } else {\n        p = this._fetch(options);\n      }\n\n      await this.root.fire('postfetch', this);\n      \n      return p;\n    }\n  };\n\n\n  /*\n   * Auth\n   */\n  var Auth = function(firerest) {\n    this.firerest = firerest;\n    this._token = null;\n    this._user = null;\n  };\n\n  Object.defineProperty(Auth.prototype, 'token', {\n    set: function(v) {\n      this._token = v;\n      localStorage.setItem(this.firerest.cacheKey + '.token', this._token);\n      this.firerest.headers(this.firerest.tokenKey, this._token);\n    },\n    get: function() {\n      return this._token;\n    },\n  });\n\n  Object.defineProperty(Auth.prototype, 'user', {\n    set: function(v) {\n      this._user = v;\n      localStorage.setItem(this.firerest.cacheKey + '.user', JSON.stringify(this._user));\n    },\n    get: function() {\n      return this._user;\n    },\n  });\n\n  Auth.prototype.login = function(token, user) {\n    this.token = token;\n    this.user = user;\n  };\n\n  Auth.prototype.logout = function() {\n    this._token = null;\n    this._user = null;\n    localStorage.removeItem(this.firerest.cacheKey + '.token');\n    localStorage.removeItem(this.firerest.cacheKey + '.user');\n    this.firerest.headers(this.firerest.tokenKey, undefined);\n  };\n\n  Auth.prototype.isLogin = function() {\n    return !!this._token;\n  };\n\n  Auth.prototype._sync = function() {\n    var token = localStorage.getItem(this.firerest.cacheKey + '.token');\n    var user = localStorage.getItem(this.firerest.cacheKey + '.user');\n\n    if (token) {\n      this.token = token;\n    }\n    if (user) {\n      this.user = JSON.parse(user);\n    }\n\n    return this;\n  };\n\n\n  /*\n   * Firerest\n   */\n  var Firerest = function(options) {\n    this.init(options);\n  };\n\n  Firerest.prototype = Object.create(Child.prototype);\n\n  Firerest.prototype.init = function(options) {\n    Child.prototype.init.call(this, options);\n\n    this.root = this;\n    this.cacheKey = options.cacheKey;\n    this.tokenKey = options.tokenKey;\n    this.debug = options.debug;\n    this.local = options.local;\n    this.localData = {};\n    this._listeners = [];\n\n    this.auth = new Auth(this);\n    this.auth._sync();\n  };\n\n  // events\n  Firerest.prototype.on = function(type, func) {\n    if (!this._listeners[type]) this._listeners[type] = [];\n    this._listeners[type].push(func);\n\n    return this;\n  };\n  Firerest.prototype.off = function(type, func) {\n    if (!this._listeners[type]) this._listeners[type] = [];\n\n    var i = this._listeners[type].indexOf(func);\n    if (i !== -1) {\n      this._listeners[type].splice(i, 1);\n    }\n\n    return this;\n  };\n  Firerest.prototype.once = function(type, func) {\n    var temp = function() {\n      func.apply(this, arguments);\n      this.off(type, temp);\n    }.bind(this);\n    this.on(type, temp);\n\n    return this;\n  };\n  Firerest.prototype.fire = async function(type, req, res) {\n    if (!this._listeners[type]) return ;\n\n    // \n    var results = this._listeners[type].map(function(func) {\n      return func.call(this, req, res);\n    }.bind(this));\n\n    // Promise \n    var promises = results.filter(r => r && r.constructor === Promise);\n    if (promises.length) {\n      await Promise.all(promises);\n    }\n\n    return this;\n  };\n\n  exports.create = function(options) {\n    return new Firerest(options);\n  };\n\n})(typeof exports === 'undefined' ? this.Firerest = {} : exports, this);\n\n// test\n;(function() {\n  return ;\n  var ref = new Firerest({\n    api: 'http://jsonplaceholder.typicode.com',\n    cacheKey: 'hoge.foo.bar', // localstorage \n    tokenKey: 'abcdefg', // header \n    debug: true,\n  });\n  ref.log();\n  ref.child('posts').log();\n  ref.child('posts').get().done();\n  ref.child('posts').child(10).get().done();\n  ref.child('posts').child(10).child('comments').get().done();\n})();\n\n\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import _ from 'underscore'\nimport riot from 'riot'\nimport firerest from 'firerest'\nimport './tags/*.tag'\nimport './tags/**/*.tag'\n\nconsole.log('index.js: ');\n\n\n\nvar isNode = (typeof process !== 'undefined' && process.versions != null && process.versions.node != null);\nif (!isNode) {\n  riot.mount('*');\n}\n\n// export default {\n//   riot,\n//   _,\n// };\n\nglobal.riot = riot;\nglobal._ = _;\n","const riot = require('riot');\nriot.tag2('app', '<h1>{title}</h1> <div class=\"p16\"> <div class=\"s64 bg-red\"></div> </div> <ul> <li>aaaaaaaaaaaaa bbbbbbbb cccc dddd</li> <item each=\"{item in [1, 2, 3, 4]}\" item=\"{item}\"></item> </ul>', '', 'class=\"p16\"', function(opts) {\n    this.title = 'Hello, spalate with parcel!';\n\n});\n\n\n\n"]}